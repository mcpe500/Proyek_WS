parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Y6W3":[function(require,module,exports) {
"use strict";var E,_,A,e,T,o,s,S,n,l,I,R,v,C,r,O,N,u,i,d=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ENV=void 0;const p=d(require("dotenv"));p.default.config(),exports.ENV={PORT:parseInt(process.env.PORT||"3000"),BACKEND_API_URL:null!==(E=process.env.BACKEND_API_URL)&&void 0!==E?E:"",SECRET_KEY:null!==(_=process.env.SECRET_KEY)&&void 0!==_?_:"",REFRESH_TOKEN_SECRET:null!==(A=process.env.REFRESH_TOKEN_SECRET)&&void 0!==A?A:"",ACCESS_TOKEN_SECRET:null!==(e=process.env.ACCESS_TOKEN_SECRET)&&void 0!==e?e:"",EMAIL_VERIFICATION_TOKEN_SECRET:null!==(T=process.env.EMAIL_VERIFICATION_TOKEN_SECRET)&&void 0!==T?T:"",REFRESH_TOKEN_AGE:null!==(o=process.env.REFRESH_TOKEN_AGE)&&void 0!==o?o:"",ACCESS_TOKEN_AGE:null!==(s=process.env.ACCESS_TOKEN_AGE)&&void 0!==s?s:"",REMEMBER_ME_REFRESH_TOKEN_AGE:null!==(S=process.env.REMEMBER_ME_REFRESH_TOKEN_AGE)&&void 0!==S?S:"",REMEMBER_ME_ACCESS_TOKEN_AGE:null!==(n=process.env.REMEMBER_ME_ACCESS_TOKEN_AGE)&&void 0!==n?n:"",EMAIL_VERIFICATION_AGE:null!==(l=process.env.EMAIL_VERIFICATION_AGE)&&void 0!==l?l:"",MONGODB_URI:null!==(I=process.env.MONGODB_URI)&&void 0!==I?I:"",DB_STATIC_DIALECT:null!==(R=process.env.DB_STATIC_DIALECT)&&void 0!==R?R:"mysql",DB_STATIC_HOST:null!==(v=process.env.DB_STATIC_HOST)&&void 0!==v?v:"localhost",DB_STATIC_PORT:parseInt(null!==(C=process.env.DB_STATIC_PORT)&&void 0!==C?C:"3306"),DB_STATIC_USERNAME:null!==(r=process.env.DB_STATIC_USERNAME)&&void 0!==r?r:"root",DB_STATIC_PASSWORD:null!==(O=process.env.DB_STATIC_PASSWORD)&&void 0!==O?O:"",DB_STATIC_DATABASE:null!==(N=process.env.DB_STATIC_DATABASE)&&void 0!==N?N:"db_name",API_NINJAS_API_KEY:null!==(u=process.env.API_NINJAS_API_KEY)&&void 0!==u?u:"",API_GOOGLE_PLACES_API_KEY:null!==(i=process.env.API_GOOGLE_PLACES_API_KEY)&&void 0!==i?i:""};
},{}],"Tk24":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var i={};if(null!=r)for(var n in r)"default"!==n&&Object.prototype.hasOwnProperty.call(r,n)&&e(i,r,n);return t(i,r),i};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Subscription=void 0;const i=r(require("mongoose")),n=new i.Schema({userId:{type:i.Schema.Types.ObjectId,ref:"User",required:!0},paketId:{type:String,required:!0},apiHit:{type:Number,required:!0,default:0},startDate:{type:Date,default:Date.now()},endDate:{type:Date,required:!0},isActive:{type:Boolean,default:!0},apiKey:{type:String},resetAt:{type:Date,required:!0}});exports.Subscription=i.default.model("Subscription",n);
},{}],"p7uR":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(i,n){function s(e){try{E(o.next(e))}catch(t){n(t)}}function a(e){try{E(o.throw(e))}catch(t){n(t)}}function E(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}E((o=o.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendVerificationEmail=exports.verifyEmailVerificationToken=exports.generateEmailVerificationToken=exports.generateApiKey=exports.verifyRefreshToken=exports.verifyAccessToken=exports.createRefreshToken=exports.createAccessToken=exports.verifyPassword=exports.hashPassword=void 0;const r=t(require("bcrypt")),o=t(require("jsonwebtoken")),i=require("../config/environment"),n=t(require("crypto")),s=t(require("nodemailer")),a=t(require("ejs")),E=t(require("path")),c=require("../models/dynamic/Subscription.model"),l=t=>e(void 0,void 0,void 0,function*(){const e=yield r.default.genSalt(10);return yield r.default.hash(t+i.ENV.SECRET_KEY,e)});exports.hashPassword=l;const u=(t,o)=>e(void 0,void 0,void 0,function*(){return yield r.default.compare(t+i.ENV.SECRET_KEY,o)});exports.verifyPassword=u;const f=(e,t)=>o.default.sign(e,i.ENV.ACCESS_TOKEN_SECRET,{expiresIn:t?i.ENV.REMEMBER_ME_ACCESS_TOKEN_AGE:i.ENV.ACCESS_TOKEN_AGE});exports.createAccessToken=f;const d=(e,t)=>o.default.sign(e,i.ENV.REFRESH_TOKEN_SECRET,{expiresIn:t?i.ENV.REMEMBER_ME_REFRESH_TOKEN_AGE:i.ENV.REFRESH_TOKEN_AGE});exports.createRefreshToken=d;const p=e=>{try{return o.default.verify(e,i.ENV.ACCESS_TOKEN_SECRET)}catch(t){return null}};exports.verifyAccessToken=p;const _=e=>{try{return o.default.verify(e,i.ENV.REFRESH_TOKEN_SECRET)}catch(t){return null}};exports.verifyRefreshToken=_;const T=()=>e(void 0,void 0,void 0,function*(){let e="";for(;;){if(e=n.default.randomBytes(32).toString("hex"),!(yield c.Subscription.findOne({apiKey:e})))break}return e});exports.generateApiKey=T;const v=e=>o.default.sign({email:e},i.ENV.EMAIL_VERIFICATION_TOKEN_SECRET,{expiresIn:i.ENV.EMAIL_VERIFICATION_AGE});exports.generateEmailVerificationToken=v;const h=e=>{try{return o.default.verify(e,i.ENV.EMAIL_VERIFICATION_TOKEN_SECRET)}catch(t){return null}};exports.verifyEmailVerificationToken=h;const y=(t,r,o)=>e(void 0,void 0,void 0,function*(){let e=s.default.createTransport({host:"smtp.ethereal.email",port:587,secure:!1,auth:{user:"cara.cassin54@ethereal.email",pass:"sa1eN3haQ3vpTAweud"}}),i={from:"cara.cassin54@ethereal.email",to:t,subject:"Test Mail"};console.log(t,r,o),a.default.renderFile(E.default.join(__dirname,"../templates","verification_email_template.ejs"),{name:o,token:`http://localhost:3000/api/v1/auth/verify/${r}`},(t,r)=>{t?console.log(t):(i.html=r,e.sendMail(i,(e,t)=>{e?console.log(e):console.log("Message sent: "+t.response)}))})});exports.sendVerificationEmail=y;
},{"../config/environment":"Y6W3","../models/dynamic/Subscription.model":"Tk24"}],"H258":[function(require,module,exports) {
"use strict";var E;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RESPONSE_STATUS=void 0,function(E){E[E.SUCCESS=200]="SUCCESS",E[E.CREATED=201]="CREATED",E[E.BAD_REQUEST=400]="BAD_REQUEST",E[E.UNAUTHORIZED=401]="UNAUTHORIZED",E[E.FORBIDDEN=403]="FORBIDDEN",E[E.NOT_FOUND=404]="NOT_FOUND",E[E.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR"}(E||(exports.RESPONSE_STATUS=E={}));
},{}],"GAku":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t);var n=Object.getOwnPropertyDescriptor(r,t);n&&("get"in n?r.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,n)}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),t=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&e(i,t,n);return r(i,t),i};Object.defineProperty(exports,"__esModule",{value:!0}),exports.User=void 0;const i=t(require("mongoose")),n=new i.Schema({username:{type:String,required:!0,unique:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},fullName:{type:String,required:!0},phone:{type:String,required:!0},profilePicture:{type:String,default:"src\\storage\\images\\profilePictures\\default_profile.png"},age:{type:Number,required:!1},gender:{type:String,required:!1},height:{type:Number,required:!1},weight:{type:Number,required:!1},healthInformation:{type:String,required:!1},balance:{type:Number,default:0},refreshToken:{type:String,required:!1},accessToken:{type:String,required:!1},isEmailVerified:{type:Boolean,default:!1},emailVerificationToken:{type:String},role:{type:String,default:"USER"}});exports.User=i.default.model("User",n);
},{}],"ocwy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sequelize=void 0;const e=require("sequelize"),t=require("../config/environment");exports.sequelize=new e.Sequelize(t.ENV.DB_STATIC_DATABASE,t.ENV.DB_STATIC_USERNAME,t.ENV.DB_STATIC_PASSWORD,{dialect:t.ENV.DB_STATIC_DIALECT,host:t.ENV.DB_STATIC_HOST,port:t.ENV.DB_STATIC_PORT}),exports.sequelize.authenticate().then(()=>{console.log("Database connection successful!")}).catch(e=>{console.error("Unable to connect to the database:",e)}),exports.default=exports.sequelize;
},{"../config/environment":"Y6W3"}],"fXyY":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("sequelize"),a=e(require("../../connection/connectionStatic"));class l extends t.Model{}l.init({Paket_id:{type:t.DataTypes.CHAR(6),primaryKey:!0},Paket_name:{type:t.DataTypes.STRING,allowNull:!1},Paket_description:{type:t.DataTypes.TEXT},Paket_Limit:{type:t.DataTypes.INTEGER},Paket_price:{type:t.DataTypes.FLOAT,allowNull:!1},Paket_price_currency:{type:t.DataTypes.STRING,allowNull:!1,defaultValue:"IDR"}},{sequelize:a.default,modelName:"Paket",tableName:"pakets",timestamps:!1}),exports.default=l;
},{"../../connection/connectionStatic":"ocwy"}],"spUU":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t);var n=Object.getOwnPropertyDescriptor(r,t);n&&("get"in n?r.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,n)}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),t=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&e(i,t,n);return r(i,t),i};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExercisePlan=exports.Exercise=void 0;const i=t(require("mongoose")),n=new i.Schema({name:{type:String,required:!0},type:{type:String,required:!0},targeted_muscle:{type:String,required:!0},equipmentRequired:[{type:String,required:!1}],description:{type:String,required:!0}}),u=new i.Schema({exercises:[{name:{type:String,required:!0},description:{type:String,required:!0},sets:{type:Number,required:!0},repetitions:{type:Number,required:!0},restBetweenSetsInSeconds:{type:Number,required:!0},equipmentRequired:[{name:{type:String,required:!0},description:{type:String,required:!0}}]}]});exports.Exercise=i.default.model("Exercise",n),exports.ExercisePlan=i.default.model("ExercisePlan",u);
},{}],"qEiB":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,r){function a(t){try{u(i.next(t))}catch(e){r(e)}}function o(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,o)}u((i=i.apply(t,e||[])).next())})},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Apis=void 0;const n=e(require("axios")),i=require("../config/environment");class s{constructor(t,e={}){this.axiosInstance=n.default.create({baseURL:t,headers:e})}get(e){return t(this,arguments,void 0,function*(t,e={}){return(yield this.axiosInstance.get(t,e)).data})}post(e,n){return t(this,arguments,void 0,function*(t,e,n={}){return(yield this.axiosInstance.post(t,e,n)).data})}put(e,n){return t(this,arguments,void 0,function*(t,e,n={}){return(yield this.axiosInstance.put(t,e,n)).data})}patch(e,n){return t(this,arguments,void 0,function*(t,e,n={}){return(yield this.axiosInstance.patch(t,e,n)).data})}delete(e){return t(this,arguments,void 0,function*(t,e={}){return(yield this.axiosInstance.delete(t,e)).data})}}exports.Apis={API_NINJA_ApiService:new s("https://api.api-ninjas.com/v1/exercises",{"X-Api-Key":i.ENV.API_NINJAS_API_KEY})};
},{"../config/environment":"Y6W3"}],"Q6np":[function(require,module,exports) {
"use strict";var e,S;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TransactionDetailType=exports.TransactionHeaderType=void 0,function(e){e.TOPUP="TOPUP",e.SUBSCRIBE="SUBSCRIBE"}(e||(exports.TransactionHeaderType=e={})),function(e){e.ADMIN_TOPUP="ADMIN_TOPUP",e.ADMIN_SUBSCRIBE="ADMIN_SUBSCRIBE",e.USER_TOPUP="USER_TOPUP",e.USER_SUBSCRIBE="USER_SUBSCRIBE",e.USER_RENEW="USER_RENEW"}(S||(exports.TransactionDetailType=S={}));
},{}],"p0WR":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var i={};if(null!=r)for(var n in r)"default"!==n&&Object.prototype.hasOwnProperty.call(r,n)&&e(i,r,n);return t(i,r),i};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transaction=void 0;const i=r(require("mongoose")),n=require("../../contracts/enum/TransactionRelated.enum"),a=new i.Schema({header:{transactionHeaderType:{type:String,enum:Object.values(n.TransactionHeaderType),required:!0},date:{type:Date,required:!0},total:{type:Number,required:!0},userId:{type:i.Schema.Types.ObjectId,required:!1},adminId:{type:i.Schema.Types.ObjectId,required:!1}},details:[{transactionDetailType:{type:String,enum:Object.values(n.TransactionDetailType),required:!0},paket_id:String,subscription_id:String,month:Number,price:Number,subtotal:Number,message:String,userId:{type:i.Schema.Types.ObjectId,required:!1}}]});exports.Transaction=i.default.model("Transaction",a);
},{"../../contracts/enum/TransactionRelated.enum":"Q6np"}],"AsdS":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JoiExtended=void 0;const t=e(require("joi")),o=e(require("@joi/date"));exports.JoiExtended=t.default.extend(o.default);
},{}],"m9N4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.topupSchema=void 0;const e=require(".");exports.topupSchema=e.JoiExtended.object({saldo:e.JoiExtended.number().positive().required().messages({"number.base":'"saldo" should be a type of number',"number.positive":'"saldo" must be a positive number',"any.required":'"saldo" is a required field'})});
},{".":"AsdS"}],"ayJC":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ROLE=void 0,function(e){e.USER="USER",e.ADMIN="ADMIN"}(e||(exports.ROLE=e={}));
},{}],"P7aU":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,s,t,n){return new(t||(t=Promise))(function(r,i){function a(e){try{d(n.next(e))}catch(s){i(s)}}function o(e){try{d(n.throw(e))}catch(s){i(s)}}function d(e){var s;e.done?r(e.value):(s=e.value,s instanceof t?s:new t(function(e){e(s)})).then(a,o)}d((n=n.apply(e,s||[])).next())})},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.topupFromAdmin=exports.addExercise=exports.deleteUserPacket=exports.addUserPacket=exports.getUserPacket=exports.deleteUserProfile=exports.getUserProfilePicture=exports.getUserProfile=exports.adminDashboard=exports.getAllUser=exports.renewSubscription=exports.subscribePacket=exports.topup=exports.resetApiKey=exports.getApiKey=exports.verifyEmail=exports.generateNewAccessToken=exports.newRefreshToken=exports.editProfile=exports.getProfPic=exports.getDashboard=exports.loginUser=exports.registerUser=void 0;const t=require("../utils/AuthUtils"),n=require("../contracts/enum/ResponseRelated.enum"),r=require("../models/dynamic/User.model"),i=s(require("../models/static/Paket.model")),a=require("../models/dynamic/Subscription.model"),o=require("../models/dynamic/Exercise.model"),d=require("../services/ApiService"),u=require("../contracts/enum/TransactionRelated.enum"),S=require("../models/dynamic/Transaction.model"),c=require("../validators/Topup.validate"),l=s(require("mongoose")),E=require("../contracts/enum/UserRelated.enum"),T=(s,i)=>e(void 0,void 0,void 0,function*(){const{username:e,email:a,password:o,fullName:d,phone:u}=s.body;try{if(yield r.User.findOne({$or:[{username:e},{email:a}]}))return i.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Username or email already exists"});const s=yield(0,t.hashPassword)(o),c=(0,t.generateEmailVerificationToken)(a),l=new r.User({username:e,email:a,password:s,fullName:d,phone:u,isEmailVerified:!1,emailVerificationToken:c}),E=yield l.save(),T={username:E.username,email:E.email,fullName:E.email,phone:E.phone,_id:E._id};return yield(0,t.sendVerificationEmail)(a,c,e),i.status(n.RESPONSE_STATUS.CREATED).json({msg:"Register Successful, please verify your email within 24 hours!",user:T})}catch(S){return i.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).send(S)}});exports.registerUser=T;const m=(s,i)=>e(void 0,void 0,void 0,function*(){const{username:e,email:a,password:o,rememberMe:d}=s.body,u=yield r.User.findOne({$or:[{username:e},{email:a}]});if(!u)return i.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Invalid credentials"});if(!u.isEmailVerified)return(0,t.verifyEmailVerificationToken)(u.emailVerificationToken)?i.status(n.RESPONSE_STATUS.BAD_REQUEST).send({message:"Please verify your email"}):(yield r.User.deleteOne({_id:u._id}),i.status(n.RESPONSE_STATUS.BAD_REQUEST).send({message:"Your email verification token has expired and as a result, your account has been deleted"}));if(!(yield(0,t.verifyPassword)(o,u.password)))return i.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Invalid credentials"});const S={username:e,email:a},c=(0,t.createAccessToken)(S,d),l=(0,t.createRefreshToken)(S,d);return yield u.updateOne({refreshToken:l,accessToken:c}),i.cookie("refreshToken",l,{httpOnly:!0}),i.status(n.RESPONSE_STATUS.SUCCESS).json({msg:"Logged in successfully",token:c})});exports.loginUser=m;const p=(s,t)=>e(void 0,void 0,void 0,function*(){const e=s.user;return t.status(n.RESPONSE_STATUS.SUCCESS).json({user:e})});exports.getDashboard=p;const f=(s,t)=>e(void 0,void 0,void 0,function*(){const e=s.user;return t.sendFile(e.profilePicture,{root:"."})});exports.getProfPic=f;const _=(s,r)=>e(void 0,void 0,void 0,function*(){const{old_password:e,new_password:i,confirm_password:a,fullName:o,phone:d,age:u,gender:S,height:c,weight:l,healthInformation:E}=s.body,T=s.user;if(!T)return r.status(n.RESPONSE_STATUS.NOT_FOUND).json({message:"User not found"});if(e&&""!=e){if(!(yield(0,t.verifyPassword)(e,T.password)))return r.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"old_password is incorrect"});if(i&&""==i)return r.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"new_password must not be empty"});if(i!=a)return r.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"confirm_password does not match"});const s=yield(0,t.hashPassword)(i);T.password=s}return o&&""!=o&&(T.fullName=o),d&&""!=d&&(T.phone=d),u&&""!=u&&(T.age=u),S&&""!=S&&(T.gender=S),c&&""!=c&&(T.height=c),l&&""!=l&&(T.weight=l),E&&""!=E&&(T.healthInformation=E),s.file&&(T.profilePicture=s.file.path),yield T.save(),r.status(n.RESPONSE_STATUS.SUCCESS).json({user:T})});exports.editProfile=_;const U=(s,i)=>e(void 0,void 0,void 0,function*(){const e=s.cookies.refreshToken;try{const s=(0,t.verifyRefreshToken)(e),o=yield r.User.findOne({$or:[{username:s.username},{email:s.email}]});if(!o)return i.status(n.RESPONSE_STATUS.NOT_FOUND).json({message:"User not found"});const d={username:o.username,email:o.email},u=(0,t.createRefreshToken)(d,!1);return yield o.updateOne({refreshToken:u}),i.cookie("refreshToken",e,{httpOnly:!0}),i.status(n.RESPONSE_STATUS.SUCCESS).json({message:"Refresh token generated successfully"})}catch(a){return i.status(n.RESPONSE_STATUS.FORBIDDEN).json({message:"Invalid refresh token"})}});exports.newRefreshToken=U;const R=(s,i)=>e(void 0,void 0,void 0,function*(){const e=s.cookies.refreshToken;try{const s=(0,t.verifyRefreshToken)(e),o=yield r.User.findOne({$or:[{username:s.username},{email:s.email}]});if(!o)return i.status(n.RESPONSE_STATUS.NOT_FOUND).json({message:"User not found"});const d={username:o.username,email:o.email},u=(0,t.createAccessToken)(d,!1);return yield o.updateOne({accessToken:u}),i.status(n.RESPONSE_STATUS.SUCCESS).json({accessToken:u})}catch(a){return i.status(n.RESPONSE_STATUS.FORBIDDEN).json({message:"Invalid refresh token"})}});exports.generateNewAccessToken=R;const y=(s,i)=>e(void 0,void 0,void 0,function*(){const{emailVerificationToken:e}=s.params;try{const s=(0,t.verifyEmailVerificationToken)(e),d=yield r.User.findOne({emailVerificationToken:e});if((null==d?void 0:d.email)!=(null==s?void 0:s.email))return i.status(n.RESPONSE_STATUS.FORBIDDEN).json({message:"Invalid email verification token"});if(!d)return i.status(n.RESPONSE_STATUS.NOT_FOUND).json({message:"User not found"});let u=yield(0,t.generateApiKey)();yield d.updateOne({isEmailVerified:!0,emailVerificationToken:null});const S=new a.Subscription({userId:d._id,paketId:"PAK001",endDate:new Date("9999-12-31T23:59:59.999Z"),resetAt:new Date((new Date).getTime()+6e4),apiKey:u});return yield S.save(),i.status(n.RESPONSE_STATUS.SUCCESS).send({message:"Email verified"})}catch(o){return i.status(n.RESPONSE_STATUS.FORBIDDEN).json({message:"Invalid email verification token or your email verification token has expired"})}});exports.verifyEmail=y;const O=(s,t)=>e(void 0,void 0,void 0,function*(){const e=s.user,r=yield a.Subscription.findOne({userId:e._id});try{return r.apiKey?t.status(n.RESPONSE_STATUS.SUCCESS).json({apiKey:r.apiKey}):t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"API key not found for this user"})}catch(i){return t.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Internal server error"})}});exports.getApiKey=O;const A=(s,r)=>e(void 0,void 0,void 0,function*(){const e=s.user;try{let s=yield(0,t.generateApiKey)();const o=yield a.Subscription.findOneAndUpdate({userId:e._id},{$set:{apiKey:s}},{new:!0,useFindAndModify:!1});return r.status(n.RESPONSE_STATUS.SUCCESS).json({apiKey:o.apiKey})}catch(i){return r.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Internal server error"})}});exports.resetApiKey=A;const N=(s,t)=>e(void 0,void 0,void 0,function*(){const{amount:e}=s.body,r=s.user;if(!e||e<=0)return t.status(n.RESPONSE_STATUS.BAD_REQUEST).json({message:"Invalid amount"});const i=yield l.default.startSession();i.startTransaction();try{const s={header:{transactionHeaderType:u.TransactionHeaderType.TOPUP,date:new Date,total:e,userId:r._id},details:[{transactionDetailType:u.TransactionDetailType.USER_TOPUP,subtotal:e,message:`User: ${r.username}, does action = ${u.TransactionDetailType.USER_TOPUP} with amount = ${e}`}]};return yield S.Transaction.create([s],{session:i}),r.balance+=e,yield r.save({session:i}),yield i.commitTransaction(),i.endSession(),t.status(n.RESPONSE_STATUS.SUCCESS).json({message:"Balance updated successfully.",currentBalance:r.balance})}catch(a){return yield i.abortTransaction(),i.endSession(),t.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Internal server error"})}});exports.topup=N;const v=(s,r)=>e(void 0,void 0,void 0,function*(){const e=s.body,o=s.user;if(!Array.isArray(e))return r.status(n.RESPONSE_STATUS.BAD_REQUEST).json({message:"Invalid request format. Expected an array of subscriptions."});const d=yield l.default.startSession();d.startTransaction();try{const s=[];for(const r of e){const{paketId:e,month:S}=r;if(!e||!S)throw{status:n.RESPONSE_STATUS.BAD_REQUEST,message:"Request fields not valid"};const c=yield i.default.findOne({where:{Paket_id:e}});if(!c)throw{status:n.RESPONSE_STATUS.NOT_FOUND,message:`Paket not found: ${e}`};if("PAK001"===e)throw{status:n.RESPONSE_STATUS.BAD_REQUEST,message:`You can't subscribe to this paket: ${e}`};if(S<1)throw{status:n.RESPONSE_STATUS.BAD_REQUEST,message:`Invalid number of months for paket: ${e}`};const l=c.Paket_price*parseInt(S);if(o.balance<l)throw{status:n.RESPONSE_STATUS.BAD_REQUEST,message:"Not enough balance! Please top up first"};o.balance-=l,yield o.save({session:d});let E=new Date;E.setMonth(E.getMonth()+parseInt(S)),E.setDate(E.getDate()-1),E.setHours(23),E.setMinutes(59),E.setSeconds(59);const T=yield(0,t.generateApiKey)(),m=new a.Subscription({userId:o._id,paketId:e,endDate:E,apiKey:T,resetAt:new Date((new Date).getTime()+6e4)});yield m.save({session:d}),s.push({transactionDetailType:u.TransactionDetailType.USER_SUBSCRIBE,paket_id:e,subscription_id:m._id,month:S,price:c.Paket_price,subtotal:l,message:`User: ${o.username} bought a subscription to ${c.Paket_name} for ${S} month(s) at Rp${c.Paket_price} per month.`})}const l=new S.Transaction({header:{transactionHeaderType:u.TransactionHeaderType.SUBSCRIBE,date:new Date,total:s.reduce((e,s)=>e+s.subtotal,0),userId:o._id},details:s});return yield l.save({session:d}),yield d.commitTransaction(),d.endSession(),r.status(n.RESPONSE_STATUS.CREATED).json({message:"All subscriptions created successfully",transaction:l.header,subscriptions:s,remainingBalance:`Rp${o.balance}`})}catch(c){yield d.abortTransaction(),d.endSession();const e=c.status||n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR,s=c.message||"Internal server error";return r.status(e).json({message:s})}});exports.subscribePacket=v;const P=(s,t)=>e(void 0,void 0,void 0,function*(){const{apiKey:e}=s.query,{month:r}=s.body,o=s.user;if(r<1)return t.status(n.RESPONSE_STATUS.BAD_REQUEST).json({message:"Invalid number of months"});if("string"!=typeof e)return t.status(400).json({error:"Invalid API key format"});const d=yield a.Subscription.findOne({userId:o._id,apiKey:e});if(!d)return t.status(n.RESPONSE_STATUS.NOT_FOUND).json({message:"No active subscription found"});if(!d.isActive||d.endDate<new Date)return yield d.updateOne({isActive:!1}),t.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Your subscription has expired"});if("PAK001"==d.paketId)return t.status(n.RESPONSE_STATUS.BAD_REQUEST).json({message:"This paket can't be renewed"});const u=yield i.default.findOne({where:{Paket_id:d.paketId}});if(!u)return t.status(n.RESPONSE_STATUS.BAD_REQUEST).json({message:"Invalid paket"});const S=u.Paket_price*parseInt(r);if(o.balance<S)return t.status(n.RESPONSE_STATUS.BAD_REQUEST).json({message:"Not enough balance! Please top up first"});try{o.balance-=S,yield o.save()}catch(l){return t.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Internal server error"})}let c=new Date(d.endDate);c.setMonth(c.getMonth()+parseInt(r)),d.endDate=c;try{yield d.save()}catch(l){return t.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Failed to update subscription"})}return t.status(n.RESPONSE_STATUS.SUCCESS).json({subscription:d})});exports.renewSubscription=P;const g=(s,t)=>e(void 0,void 0,void 0,function*(){const{username:e,email:i,fullName:a,role:o}=s.query,d={};"string"==typeof e&&(d.username={$regex:new RegExp(e)}),"string"==typeof i&&(d.email={$regex:new RegExp(i)}),"string"==typeof a&&(d.fullName={$regex:new RegExp(a)}),"string"==typeof o&&(d.role=o);try{const e=yield r.User.find(d);return t.status(n.RESPONSE_STATUS.SUCCESS).json({users:e})}catch(u){return t.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Failed to fetch users"})}});exports.getAllUser=g;const h=(s,t)=>e(void 0,void 0,void 0,function*(){const e=yield r.User.find({role:{$eq:E.ROLE.USER},isEmailVerified:!0}).exec(),s=yield S.Transaction.find({header:{adminId:null}}),i=s.reduce((e,s)=>e+s.details.reduce((e,s)=>s.transactionDetailType===u.TransactionDetailType.USER_TOPUP?e+s.subtotal:e,0),0),o=s.reduce((e,s)=>e+s.details.reduce((e,s)=>s.transactionDetailType===u.TransactionDetailType.USER_SUBSCRIBE||s.transactionDetailType===u.TransactionDetailType.USER_RENEW?e+s.subtotal:e,0),0),d=null==s?0:s.reduce((e,s)=>e+s.header.total,0),c=yield a.Subscription.find({isActive:!0}).exec();return t.status(n.RESPONSE_STATUS.SUCCESS).json({total_user:e.length,free_package_user:c.filter(e=>"PAK001"==e.paketId).length,non_free_package_user:c.filter(e=>"PAK001"!=e.paketId).length,total_income:i,total_user_spend:o,total_transaction_amount:d})});exports.adminDashboard=h;const D=(s,t)=>e(void 0,void 0,void 0,function*(){const{userID:e}=s.params,i=yield r.User.findOne({_id:e});return i?t.status(n.RESPONSE_STATUS.SUCCESS).json({username:i.username,full_name:i.fullName,email:i.email,phone:i.phone,balance:i.balance}):t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User not found"})});exports.getUserProfile=D;const b=(s,t)=>e(void 0,void 0,void 0,function*(){const{userID:e}=s.params,i=yield r.User.findOne({_id:e});return i?t.sendFile(i.profilePicture,{root:"."}):t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User not found"})});exports.getUserProfilePicture=b;const I=(s,t)=>e(void 0,void 0,void 0,function*(){const{userID:e}=s.params,i=yield r.User.findOne({_id:e});if(!i)return t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User not found"});const o=yield a.Subscription.findOne({userId:e,isActive:!0});return o&&(yield o.updateOne({isActive:!1})),yield r.User.deleteOne({_id:i._id}),t.status(n.RESPONSE_STATUS.SUCCESS).json({msg:`User "${i.username}" deleted successfully`})});exports.deleteUserProfile=I;const k=(s,t)=>e(void 0,void 0,void 0,function*(){const{userID:e}=s.params,o=yield r.User.findOne({_id:e});if(!o)return t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User not found"});const d=yield a.Subscription.findOne({userId:e,isActive:!0});if(!d)return t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User doesn't have any subscription"});const u=yield i.default.findOne({where:{Paket_id:d.paketId}});return u?t.status(n.RESPONSE_STATUS.SUCCESS).json({username:o.username,nama:o.fullName,subscription_start:d.startDate,subscription_end:d.endDate,packet:u}):t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"Packet not found"})});exports.getUserPacket=k;const w=(s,o)=>e(void 0,void 0,void 0,function*(){const{userID:e}=s.params,d=s.user,c=s.body;if(!Array.isArray(c))return o.status(n.RESPONSE_STATUS.BAD_REQUEST).json({message:"Invalid request format. Expected an array of subscriptions."});const T=yield l.default.startSession();T.startTransaction();try{const s="ALL"===e?yield r.User.find({isEmailVerified:!0,role:E.ROLE.USER}):[yield r.User.findOne({_id:e})];if(0===s.length||null===s[0])return o.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User not found"});const l=[];for(const r of s){for(const o of c){const{paket_id:s,month:S}=o;if(!s||void 0===S)throw{status:n.RESPONSE_STATUS.BAD_REQUEST,message:"Request fields not valid"};if(S<1)throw{status:n.RESPONSE_STATUS.BAD_REQUEST,message:`Invalid number of months for paket: ${s}`};const c=yield i.default.findOne({where:{Paket_id:s}});if(!c)throw{status:n.RESPONSE_STATUS.NOT_FOUND,message:`Paket not found: ${s}`};const E=yield a.Subscription.findOne({userId:e,isActive:!0});E&&(yield E.updateOne({isActive:!1}));let m=new Date;m.setMonth(m.getMonth()+S),m.setDate(m.getDate()-1),m.setHours(23),m.setMinutes(59),m.setSeconds(59);const p=yield(0,t.generateApiKey)(),f=new a.Subscription({userId:null==r?void 0:r._id,paketId:s,endDate:m,apiKey:p,resetAt:new Date((new Date).getTime()+6e4)}),_=yield f.save({session:T});l.push({transactionDetailType:u.TransactionDetailType.ADMIN_SUBSCRIBE,paket_id:c.Paket_id,subscription_id:_._id,month:S,price:c.Paket_price,subtotal:c.Paket_price*S,message:`Admin: ${d.username}, gave ${null==r?void 0:r.username} a subscription to ${c.Paket_name} for ${S} month(s) at Rp${c.Paket_price} per month.`})}const s=new S.Transaction({header:{transactionHeaderType:u.TransactionHeaderType.SUBSCRIBE,date:new Date,total:l.reduce((e,s)=>e+s.subtotal,0),userId:null==r?void 0:r._id,adminId:d._id},details:l});return yield s.save({session:T}),yield T.commitTransaction(),T.endSession(),o.status(n.RESPONSE_STATUS.CREATED).json({message:"All subscriptions created successfully",transaction:s.header,subscriptions:l})}}catch(m){yield T.abortTransaction(),T.endSession();const e=m.status||n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR,s=m.message||"Internal server error";return o.status(e).json({message:s})}});exports.addUserPacket=w;const x=(s,t)=>e(void 0,void 0,void 0,function*(){const{userID:e}=s.params;if(!(yield r.User.findOne({_id:e})))return t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User not found"});const i=yield a.Subscription.findOne({userId:e,isActive:!0});return i?(yield i.updateOne({isActive:!1}),t.status(n.RESPONSE_STATUS.SUCCESS).json({msg:"Subscription deleted successfully"})):t.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User doesn't have any subscription"})});exports.deleteUserPacket=x;const j=(s,t)=>e(void 0,void 0,void 0,function*(){try{const{offset:r,limit_per_ten:i}=s.query,a=Math.floor(Number(r)),u=Math.floor(Number(i));if(isNaN(a)||isNaN(u)||u<0||a<0)return t.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Offset and limit must be non-negative integers."});const S={};for(let e=a;e<a+u;e++){S.offset=10*e;let s=yield d.Apis.API_NINJA_ApiService.get("",{params:S});for(const e of s){if(!(yield o.Exercise.findOne({name:e.name}))){const s=new o.Exercise({name:e.name,type:e.type,targeted_muscle:e.muscle,equipmentRequired:e.equipment?e.equipment:"-",description:e.instructions});yield s.save()}}}return t.status(n.RESPONSE_STATUS.SUCCESS).json({msg:"Exercises have been added/updated successfully."})}catch(e){return t.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Exercises added/updated failed."})}});exports.addExercise=j;const B=(s,t)=>e(void 0,void 0,void 0,function*(){const{userID:e}=s.params,{saldo:i}=s.body,a=s.user;if(!i)return t.status(n.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Saldo is required"});const o=yield l.default.startSession();o.startTransaction();try{const s=c.topupSchema;if(yield s.validateAsync({saldo:i}),e&&l.default.Types.ObjectId.isValid(e)){const s=yield r.User.findById(e).session(o);if(!s)throw new Error("User not found");if(s.role===E.ROLE.ADMIN)throw new Error("User is admin");s.balance+=i,yield s.save({session:o});const d={header:{transactionHeaderType:u.TransactionHeaderType.TOPUP,date:new Date,total:i,userId:s._id,adminId:a._id},details:[{transactionDetailType:u.TransactionDetailType.ADMIN_TOPUP,subtotal:i,message:`Admin ${a.fullName} topped up user ${s.fullName} with saldo ${i}`}]};return yield S.Transaction.create([d],{session:o}),yield o.commitTransaction(),o.endSession(),t.status(n.RESPONSE_STATUS.SUCCESS).json({msg:"Balance updated successfully",username:s.username,full_name:s.fullName,newBalance:s.balance})}if("ALL"===e){const e=yield r.User.find({role:E.ROLE.USER,isEmailVerified:!0}).session(o),s=e.map(e=>({updateOne:{filter:{_id:e._id},update:{$inc:{balance:i}}}}));yield r.User.bulkWrite(s,{session:o});const d={header:{transactionHeaderType:u.TransactionHeaderType.TOPUP,date:new Date,total:i,adminId:a._id},details:e.map(e=>({transactionDetailType:u.TransactionDetailType.ADMIN_TOPUP,subtotal:i,userId:e._id,message:`Admin ${a.fullName} topped up user ${e.fullName} with saldo ${i}`}))};return yield S.Transaction.create([d],{session:o}),yield o.commitTransaction(),o.endSession(),t.status(n.RESPONSE_STATUS.SUCCESS).json({msg:"Balance updated for all users successfully"})}throw new Error("Invalid userID")}catch(d){yield o.abortTransaction(),o.endSession();const e=d instanceof Error?d.message:"Internal Server Error",s="User not found"===d.message?n.RESPONSE_STATUS.NOT_FOUND:n.RESPONSE_STATUS.BAD_REQUEST;return t.status(s).json({msg:e})}});exports.topupFromAdmin=B;
},{"../utils/AuthUtils":"p7uR","../contracts/enum/ResponseRelated.enum":"H258","../models/dynamic/User.model":"GAku","../models/static/Paket.model":"fXyY","../models/dynamic/Subscription.model":"Tk24","../models/dynamic/Exercise.model":"spUU","../services/ApiService":"qEiB","../contracts/enum/TransactionRelated.enum":"Q6np","../models/dynamic/Transaction.model":"p0WR","../validators/Topup.validate":"m9N4","../contracts/enum/UserRelated.enum":"ayJC"}],"Suzg":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))(function(o,r){function i(t){try{u(s.next(t))}catch(e){r(e)}}function a(t){try{u(s.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,a)}u((s=s.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateNotSignIn=exports.validateIsNotAdmin=exports.validateAdmin=exports.validateAccessToken=void 0;const e=require("../utils/AuthUtils"),n=require("../contracts/enum/ResponseRelated.enum"),s=require("../models/dynamic/User.model"),o=(o,r,i)=>t(void 0,void 0,void 0,function*(){const t=o.headers.authorization;if(!t)return r.status(n.RESPONSE_STATUS.UNAUTHORIZED).send("Unauthorized");const[a,u]=t.split(" ");if("Bearer"!=a)return r.status(n.RESPONSE_STATUS.UNAUTHORIZED).send("Unauthorized");try{const t=(0,e.verifyAccessToken)(u);if(!t)return r.status(n.RESPONSE_STATUS.UNAUTHORIZED).send("Unauthorized");const{username:a,email:c}=t;try{const t=yield s.User.findOne({$or:[{username:a},{email:c}]});if(!t)return r.status(n.RESPONSE_STATUS.NOT_FOUND).json({msg:"User not found"});o.user=t,i()}catch(d){return r.status(n.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Internal server error"})}}catch(d){return r.status(n.RESPONSE_STATUS.UNAUTHORIZED).send("Unauthorized")}});exports.validateAccessToken=o;const r=(e,s,o)=>t(void 0,void 0,void 0,function*(){const{user:t}=e.body;if(t&&"ADMIN"!=t.role)return s.status(n.RESPONSE_STATUS.UNAUTHORIZED).json({msg:"User is not admin"});o()});exports.validateAdmin=r;const i=(e,s,o)=>t(void 0,void 0,void 0,function*(){const t=e.user;if(t&&"ADMIN"==t.role)return s.status(n.RESPONSE_STATUS.UNAUTHORIZED).json({msg:"Only Customers Are Allowed!"});o()});exports.validateIsNotAdmin=i;const a=(e,s,o)=>t(void 0,void 0,void 0,function*(){if(e.headers.authorization)return s.status(n.RESPONSE_STATUS.UNAUTHORIZED).send("Please Logout First!");o()});exports.validateNotSignIn=a;
},{"../utils/AuthUtils":"p7uR","../contracts/enum/ResponseRelated.enum":"H258","../models/dynamic/User.model":"GAku"}],"dgni":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,a,o){return new(a||(a=Promise))(function(s,i){function n(e){try{d(o.next(e))}catch(t){i(t)}}function r(e){try{d(o.throw(e))}catch(t){i(t)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(n,r)}d((o=o.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateCookie=exports.validateQuery=exports.validateParams=exports.validateBody=void 0;const t=require("../contracts/enum/ResponseRelated.enum"),a=a=>(o,s,i)=>e(void 0,void 0,void 0,function*(){try{yield a.validateAsync(o.body),i()}catch(e){s.status(t.RESPONSE_STATUS.BAD_REQUEST).send({error:e.details[0].message})}});exports.validateBody=a;const o=a=>(o,s,i)=>e(void 0,void 0,void 0,function*(){try{yield a.validateAsync(o.params),i()}catch(e){s.status(t.RESPONSE_STATUS.BAD_REQUEST).send({error:e.details[0].message})}});exports.validateParams=o;const s=a=>(o,s,i)=>e(void 0,void 0,void 0,function*(){try{yield a.validateAsync(o.query),i()}catch(e){s.status(t.RESPONSE_STATUS.BAD_REQUEST).send({error:e.details[0].message})}});exports.validateQuery=s;const i=a=>(o,s,i)=>e(void 0,void 0,void 0,function*(){try{yield a.validateAsync(o.cookies),i()}catch(e){s.status(t.RESPONSE_STATUS.BAD_REQUEST).send({error:e.details[0].message})}});exports.validateCookie=i;
},{"../contracts/enum/ResponseRelated.enum":"H258"}],"VwVi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FITNESS_GOALS=void 0,exports.FITNESS_GOALS={WEIGHT_LOSS:{code:"WEIGHT_LOSS",title:"Weight Loss",description:"Reduce body weight through a combination of diet, exercise, and lifestyle changes.",activities:"Running, Swimming, Cycling, High-Intensity Interval Training (HIIT)"},WEIGHT_GAIN:{code:"WEIGHT_GAIN",title:"Weight Gain",description:"Increase body weight through a balanced approach of nutrition and muscle-building exercises.",activities:"Weightlifting, Deadlifts, Bench Press, Squats"},BODY_BUILDING:{code:"BODY_BUILDING",title:"Body Building",description:"Develop and sculpt muscle mass with a focus on symmetry and aesthetics.",activities:"Bodyweight Exercises, Bicep Curls, Tricep Extensions, Leg Press"},MUSCLE_GAIN:{code:"MUSCLE_GAIN",title:"Muscle Gain",description:"Increase muscle mass and strength through progressive resistance training and proper nutrition.",activities:"Pull-Ups, Push-Ups, Dumbbell Rows, Shoulder Press"},ENDURANCE_TRAINING:{code:"ENDURANCE_TRAINING",title:"Endurance Training",description:"Improve cardiovascular and muscular endurance to enhance overall stamina and performance.",activities:"Long-Distance Running, Cycling, Rowing, Jump Rope"},FLEXIBILITY_IMPROVEMENT:{code:"FLEXIBILITY_IMPROVEMENT",title:"Flexibility Improvement",description:"Enhance the range of motion in joints and muscles to improve overall flexibility and reduce injury risk.",activities:"Yoga, Pilates, Dynamic Stretching, Static Stretching"},GENERAL_FITNESS:{code:"GENERAL_FITNESS",title:"General Fitness",description:"Maintain overall health and wellness through a balanced mix of exercise, diet, and lifestyle habits.",activities:"Walking, Jogging, Bodyweight Exercises, Swimming"},STRESS_RELIEF:{code:"STRESS_RELIEF",title:"Stress Relief",description:"Reduce stress and improve mental well-being through physical activities and relaxation techniques.",activities:"Tai Chi, Breathing Exercises, Light Yoga, Meditation"}};
},{}],"NFyq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validationTokenSchemaJoi=exports.loginSchemaJoi=exports.editProfileSchemaJoi=exports.registerSchemaJoi=void 0;const e=require("."),i=require("../contracts/enum/FitnessRelated.enum");exports.registerSchemaJoi=e.JoiExtended.object({username:e.JoiExtended.string().required().messages({"any.required":"Username is required"}),email:e.JoiExtended.string().email().required().messages({"any.required":"Email is required","string.email":"Email must be a valid email address"}),password:e.JoiExtended.string().required().messages({"any.required":"Password is required"}),fullName:e.JoiExtended.string().required().messages({"any.required":"Full name is required"}),phone:e.JoiExtended.string().pattern(/^[0-9]{10,15}$/).required().messages({"any.required":"Phone number is required","string.pattern.base":"Phone number must be between 10 and 15 digits"})}),exports.editProfileSchemaJoi=e.JoiExtended.object({old_password:e.JoiExtended.string().optional().allow(""),new_password:e.JoiExtended.string().optional().allow(""),confirm_password:e.JoiExtended.string().optional().allow(""),fullName:e.JoiExtended.string().optional().allow(""),phone:e.JoiExtended.string().optional().allow("").pattern(/^[0-9]{10,15}$/).messages({"string.pattern.base":"Phone number must be between 10 and 15 digits"}),age:e.JoiExtended.number().integer().positive().optional().allow("").messages({"number.base":"Age must be a number","number.integer":"Age must be an integer","number.positive":"Age must be a positive number"}),gender:e.JoiExtended.string().optional().allow(""),height:e.JoiExtended.number().positive().optional().allow("").messages({"number.base":"Height must be a number","number.positive":"Height must be a positive number"}),weight:e.JoiExtended.number().positive().optional().allow("").messages({"number.base":"Weight must be a number","number.positive":"Weight must be a positive number"}),fitnessGoals:e.JoiExtended.string().valid(...Object.values(i.FITNESS_GOALS)).optional().allow("").messages({"any.only":`Fitness goals must be one of ${Object.values(i.FITNESS_GOALS)}`}),healthInformation:e.JoiExtended.string().optional().allow("")}).unknown(),exports.loginSchemaJoi=e.JoiExtended.object({username:e.JoiExtended.string().empty("").messages({"string.empty":"Username must not be empty"}),email:e.JoiExtended.string().email().empty("").messages({"string.email":"Please enter a valid email address"}),password:e.JoiExtended.string().required().messages({"any.required":"Password is a required field"}),rememberMe:e.JoiExtended.boolean().optional()}).xor("username","email").messages({"object.missing":"Username or email is required for login"}),exports.validationTokenSchemaJoi=e.JoiExtended.object({refreshToken:e.JoiExtended.string().required().messages({"string.base":"**refreshToken** must be a string","string.empty":"**refreshToken** cannot be empty","any.required":"**refreshToken** is a required field"})});
},{".":"AsdS","../contracts/enum/FitnessRelated.enum":"VwVi"}],"W2MU":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((o=o.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAllPricingPackages=void 0;const n=t(require("../models/static/Paket.model")),o=require("../contracts/enum/ResponseRelated.enum"),r=(t,r)=>e(void 0,void 0,void 0,function*(){try{console.log("MASUK");const t=yield n.default.findAll();return console.log(t),r.status(o.RESPONSE_STATUS.SUCCESS).json(t)}catch(e){return console.error("Error retrieving pricing packages:",e),r.status(o.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Failed to retrieve pricing packages"})}});exports.getAllPricingPackages=r;
},{"../models/static/Paket.model":"fXyY","../contracts/enum/ResponseRelated.enum":"H258"}],"ArPb":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))(function(i,o){function n(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(n,a)}c((r=r.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getGoalByTitle=exports.getAllGoals=exports.getExercise=void 0;const s=require("../contracts/enum/ResponseRelated.enum"),r=require("../services/ApiService"),i=t(require("joi")),o=require("../contracts/enum/FitnessRelated.enum"),n=(t,o)=>e(void 0,void 0,void 0,function*(){var e;try{const{exercise:a,type:c,muscle:l,difficulty:u}=t.query;let S=null!==(e=t.query.page)&&void 0!==e?e:0;const d=["cardio","olympic_weightlifting","plyometrics","powerlifting","strength","stretching","strongman"],E=["abdominals","abductors","adductors","biceps","calves","chest","forearms","glutes","hamstrings","lats","lower_back","middle_back","neck","quadriceps","traps","triceps"],f=["beginner","intermediate","expert"],v=i.default.string().valid(...d).insensitive(),_=i.default.string().valid(...E).insensitive(),T=i.default.string().valid(...f).insensitive();if(c){const{error:e}=v.validate(c);if(e){const e=`Type not valid. Valid types are: ${d.join(", ")}`;return o.status(s.RESPONSE_STATUS.BAD_REQUEST).json({error:e})}}if(l){const{error:e}=_.validate(l);if(e){const e=`Muscle not valid. Valid muscles are: ${E.join(", ")}`;return o.status(s.RESPONSE_STATUS.BAD_REQUEST).json({error:e})}}if(u){const{error:e}=T.validate(u);if(e){const e=`Difficulty not valid. Valid difficulty levels are: ${f.join(", ")}`;return o.status(s.RESPONSE_STATUS.BAD_REQUEST).json({error:e})}}const p={};a&&(p.name=a),c&&(p.type=c),l&&(p.muscle=l),u&&(p.difficulty=u),p.offset=S,console.log("Query Parameters:",p);const R=yield r.Apis.API_NINJA_ApiService.get("",{params:p});return console.log("API Response:",R),R.length<1?o.status(s.RESPONSE_STATUS.NOT_FOUND).json({error:"Exercise Not Found!"}):o.status(s.RESPONSE_STATUS.SUCCESS).json({exercise:R})}catch(n){return console.error("Request failed:",n),o.status(s.RESPONSE_STATUS.NOT_FOUND).json({error:n.message})}});exports.getExercise=n;const a=(t,r)=>e(void 0,void 0,void 0,function*(){try{const t=Object.values(o.FITNESS_GOALS).map(e=>({title:e.title,description:e.description}));return r.status(s.RESPONSE_STATUS.SUCCESS).json({Goal_list:t})}catch(e){return r.status(s.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Internal server error"})}});exports.getAllGoals=a;const c=(t,r)=>e(void 0,void 0,void 0,function*(){try{const i=t.params.title.toLowerCase(),n=Object.values(o.FITNESS_GOALS).find(e=>e.title.toLowerCase()===i);if(n)return r.status(s.RESPONSE_STATUS.SUCCESS).json({Goal:n});r.status(s.RESPONSE_STATUS.NOT_FOUND).json({message:"Goal not found"})}catch(e){return r.status(s.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Internal server error"})}});exports.getGoalByTitle=c;
},{"../contracts/enum/ResponseRelated.enum":"H258","../services/ApiService":"qEiB","../contracts/enum/FitnessRelated.enum":"VwVi"}],"DZeI":[function(require,module,exports) {
"use strict";var t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlansStatus=void 0,function(t){t.PENDING="PENDING",t.STARTED="STARTED",t.COMPLETED="COMPLETED",t.CANCELLED="CANCELLED"}(t||(exports.PlansStatus=t={}));
},{}],"nrXI":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&Object.prototype.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Plans=void 0;const n=r(require("mongoose")),i=require("../../contracts/enum/PlansRelated.enum"),u=require("../../contracts/enum/FitnessRelated.enum"),a=Object.values(u.FITNESS_GOALS).map(e=>e.code),s=new n.Schema({name:{type:String,required:!0},description:{type:String,required:!0},goals:[{type:String,required:!1,enum:a}],durationInWeeks:{type:Number,required:!0},frequencyPerWeek:{type:Number,required:!0},restDaysPerWeek:{type:Number,required:!0},intensity:{type:Number,required:!0},exercises:[{type:n.Schema.Types.ObjectId,ref:"ExercisePlan"}],nutritionPlan:{type:n.Schema.Types.ObjectId,ref:"NutritionPlan"},createdBy:{type:String,required:!0},createdDate:{type:Date,required:!0,default:Date.now},status:{type:String,enum:Object.values(i.PlansStatus),default:i.PlansStatus.PENDING}});exports.Plans=n.default.model("Plans",s);
},{"../../contracts/enum/PlansRelated.enum":"DZeI","../../contracts/enum/FitnessRelated.enum":"VwVi"}],"UBoC":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,s,t,n){return new(t||(t=Promise))(function(r,a){function o(e){try{u(n.next(e))}catch(s){a(s)}}function i(e){try{u(n.throw(e))}catch(s){a(s)}}function u(e){var s;e.done?r(e.value):(s=e.value,s instanceof t?s:new t(function(e){e(s)})).then(o,i)}u((n=n.apply(e,s||[])).next())})},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.cancelExercisePlanByUser=exports.trackerExercisePlanByUser=exports.pictureExercisePlanByUser=exports.getExercisePlanDetailByUser=exports.getAllExercisePlanByUser=exports.exercisePlanDetails=exports.addWorkoutToExercisePlan=exports.completeExercisePlan=exports.startExercisePlan=exports.editExercisePlan=exports.createExercisePlan=void 0;const t=require("../contracts/enum/ResponseRelated.enum"),n=require("../models/dynamic/Plans.model"),r=require("../contracts/enum/PlansRelated.enum"),a=require("../models/dynamic/User.model"),o=require("../models/dynamic/Exercise.model"),i=s(require("mongoose")),u=(s,a)=>e(void 0,void 0,void 0,function*(){const{name:e,description:o,goals:i,durationInWeeks:u,frequencyPerWeek:S,restDaysPerWeek:c,intensity:l,exercises:d,nutritionPlan:E}=s.body;try{const P=new n.Plans({name:e,description:o,goals:i,durationInWeeks:u,frequencyPerWeek:S,restDaysPerWeek:c,intensity:l,exercises:d,nutritionPlan:E,createdBy:s.user.username,status:r.PlansStatus.PENDING}),N=yield P.save();return a.status(t.RESPONSE_STATUS.CREATED).json({msg:"Exercise plan created successfully",plan:N})}catch(T){return a.status(t.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Internal server error",error:T})}});exports.createExercisePlan=u;const S=(s,r)=>e(void 0,void 0,void 0,function*(){const{id:e}=s.params,a=s.user,{name:o,description:i,goals:u,durationInWeeks:S,frequencyPerWeek:c,restDaysPerWeek:l,intensity:d,exercises:E,nutritionPlan:T}=s.body;try{const s=yield n.Plans.findById(e);if(!s)return r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Plan not found"});if(s.createdBy!=a.username)return r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Not Your Plan"});o&&(s.name=o),i&&(s.description=i),u&&(s.goals=u),S&&(s.durationInWeeks=S),c&&(s.frequencyPerWeek=c),l&&(s.restDaysPerWeek=l),d&&(s.intensity=d),E&&(s.exercises=E),T&&(s.nutritionPlan=T);const N=yield s.save();return r.status(t.RESPONSE_STATUS.SUCCESS).json({msg:"Exercise plan updated successfully",plan:N})}catch(P){return r.status(t.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Internal server error",error:P})}});exports.editExercisePlan=S;const c=(s,a)=>e(void 0,void 0,void 0,function*(){const{id:e}=s.params,o=s.user;try{const s=yield n.Plans.findById(e);if(!s)return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Plan not found"});if(s.createdBy!=o.username)return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Not Your Plan"});if(s.exercises.length<1)return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"No exercise in the plan"});if(s.status==r.PlansStatus.STARTED)return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Plan already started"});s.status=r.PlansStatus.STARTED;const u=yield s.save();return a.status(t.RESPONSE_STATUS.SUCCESS).json({msg:"Exercise plan started successfully",plan:u})}catch(i){return a.status(t.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Internal server error",error:i})}});exports.startExercisePlan=c;const l=(s,a)=>e(void 0,void 0,void 0,function*(){const{id:e}=s.params,o=s.user;try{const s=yield n.Plans.findById(e);if(!s)return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Plan not found"});if(s.createdBy!=o.username)return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Not Your Plan"});s.status=r.PlansStatus.COMPLETED;const u=yield s.save();return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Exercise plan completed successfully",plan:u})}catch(i){return a.status(t.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Internal server error",error:i})}});exports.completeExercisePlan=l;const d=(s,r)=>e(void 0,void 0,void 0,function*(){const{id:e}=s.params,{exerciseId:a}=s.body,i=s.user,u=yield n.Plans.findById(e);if(!u)return r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Plan not found"});if(u.createdBy!=i.username)return r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Not Your Plan"});const S=yield o.ExercisePlan.findById(a);return S?(u.exercises.push(S),yield u.save(),r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Exercise added to plan successfully"})):r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Exercise not found"})});exports.addWorkoutToExercisePlan=d;const E=(s,r)=>e(void 0,void 0,void 0,function*(){const{id:e}=s.params,o=s.user,i=yield n.Plans.findById(e);if(!i)return r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Plan not found"});const u=yield a.User.findById(i.createdBy);return(null==u?void 0:u._id)!=o._id?r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Not Your Plan"}):r.status(t.RESPONSE_STATUS.NOT_FOUND).json({plan:i})});exports.exercisePlanDetails=E;const T=(s,r)=>e(void 0,void 0,void 0,function*(){const e=s.user,a=yield n.Plans.find({createdBy:e.username}).select("_id, name createdDate status");try{return r.status(t.RESPONSE_STATUS.SUCCESS).json({plans:a})}catch(o){return r.status(t.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Internal server error"})}});exports.getAllExercisePlanByUser=T;const P=(s,r)=>e(void 0,void 0,void 0,function*(){const{id:e}=s.params,a=s.user;if(!i.default.Types.ObjectId.isValid(e))return r.status(t.RESPONSE_STATUS.BAD_REQUEST).json({message:"Invalid ID"});const o=yield n.Plans.findById(e);if(!o)return r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Plan not found"});if(o.createdBy!=a.username)return r.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Not Your Plan"});try{return r.status(t.RESPONSE_STATUS.SUCCESS).json({plan_detail:o})}catch(u){return r.status(t.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Internal server error"})}});exports.getExercisePlanDetailByUser=P;const N=(s,t)=>e(void 0,void 0,void 0,function*(){});exports.pictureExercisePlanByUser=N;const R=(s,t)=>e(void 0,void 0,void 0,function*(){});exports.trackerExercisePlanByUser=R;const O=(s,a)=>e(void 0,void 0,void 0,function*(){const{id:e}=s.params,o=s.user;if(!i.default.Types.ObjectId.isValid(e))return a.status(t.RESPONSE_STATUS.BAD_REQUEST).json({message:"Invalid ID"});const u=yield n.Plans.findById(e);if(!u)return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Plan not found"});if(u.createdBy!=o.username)return a.status(t.RESPONSE_STATUS.NOT_FOUND).json({msg:"Not Your Plan"});if("PENDING"!==u.status&&"STARTED"!==u.status)return a.status(t.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Plan status is already completed or cancelled"});try{return u.status=r.PlansStatus.CANCELLED,yield u.save(),a.status(t.RESPONSE_STATUS.SUCCESS).json({message:"Plan has been cancelled"})}catch(S){return a.status(t.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({message:"Internal server error"})}});exports.cancelExercisePlanByUser=O;
},{"../contracts/enum/ResponseRelated.enum":"H258","../models/dynamic/Plans.model":"nrXI","../contracts/enum/PlansRelated.enum":"DZeI","../models/dynamic/User.model":"GAku","../models/dynamic/Exercise.model":"spUU"}],"ETAR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addWorkoutToExercisePlanSchemaJoi=exports.exercisePlanDetailsSchemaJoi=exports.createUserPlanSchemaJoi=void 0;const e=require("."),i=require("../contracts/enum/FitnessRelated.enum"),r=Object.values(i.FITNESS_GOALS).map(e=>e.code);exports.createUserPlanSchemaJoi=e.JoiExtended.object({name:e.JoiExtended.string().required().messages({"string.base":"Name must be a string","any.required":"Name is a required field"}),description:e.JoiExtended.string().required().messages({"string.base":"Description must be a string","any.required":"Description is a required field"}),goals:e.JoiExtended.array().items(e.JoiExtended.string().valid(...r).messages({"any.only":`Goals must be one of ${r.join(", ")}`})).optional().messages({"array.base":'"Goals" must be an array of valid fitness goals'}),durationInWeeks:e.JoiExtended.number().integer().positive().required().messages({"number.base":"Duration in weeks must be a number","number.integer":"Duration in weeks must be an integer","number.positive":"Duration in weeks must be a positive number","any.required":"Duration in weeks is a required field"}),frequencyPerWeek:e.JoiExtended.number().integer().positive().required().messages({"number.base":"Frequency per week must be a number","number.integer":"Frequency per week must be an integer","number.positive":"Frequency per week must be a positive number","any.required":"Frequency per week is a required field"}),restDaysPerWeek:e.JoiExtended.number().integer().positive().required().messages({"number.base":"Rest days per week must be a number","number.integer":"Rest days per week must be an integer","number.positive":"Rest days per week must be a positive number","any.required":"Rest days per week is a required field"}),intensity:e.JoiExtended.number().required().messages({"number.base":"Intensity must be a number","any.required":"Intensity is a required field"}),exercises:e.JoiExtended.array().items(e.JoiExtended.object({name:e.JoiExtended.string().required().messages({"string.base":"Exercise name must be a string","any.required":"Exercise name is a required field"}),description:e.JoiExtended.string().required().messages({"string.base":"Exercise description must be a string","any.required":"Exercise description is a required field"}),sets:e.JoiExtended.number().integer().positive().required().messages({"number.base":"Sets must be a number","number.integer":"Sets must be an integer","number.positive":"Sets must be a positive number","any.required":"Sets is a required field"}),repetitions:e.JoiExtended.number().integer().positive().required().messages({"number.base":"Repetitions must be a number","number.integer":"Repetitions must be an integer","number.positive":"Repetitions must be a positive number","any.required":"Repetitions is a required field"}),restBetweenSetsInSeconds:e.JoiExtended.number().integer().positive().required().messages({"number.base":"Rest between sets must be a number","number.integer":"Rest between sets must be an integer","number.positive":"Rest between sets must be a positive number","any.required":"Rest between sets is a required field"}),equipmentRequired:e.JoiExtended.array().items(e.JoiExtended.object({name:e.JoiExtended.string().required().messages({"string.base":"Equipment name must be a string","any.required":"Equipment name is a required field"}),description:e.JoiExtended.string().required().messages({"string.base":"Equipment description must be a string","any.required":"Equipment description is a required field"})})).optional()})).optional().messages({"any.required":"Exercises are required"}),nutritionPlan:e.JoiExtended.object().optional()}),exports.exercisePlanDetailsSchemaJoi=e.JoiExtended.object({}),exports.addWorkoutToExercisePlanSchemaJoi=e.JoiExtended.object({});
},{".":"AsdS","../contracts/enum/FitnessRelated.enum":"VwVi"}],"edTC":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function a(e){try{u(n.next(e))}catch(t){s(t)}}function o(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,o)}u((n=n.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkAndIncreaseAPIHit=void 0;const i=require("../contracts/enum/ResponseRelated.enum"),n=require("../models/dynamic/Subscription.model"),r=t(require("../models/static/Paket.model")),s=t=>(s,a,o)=>e(void 0,void 0,void 0,function*(){const{apiKey:e}=s.query,u=s.user;try{if("string"!=typeof e)return a.status(400).json({error:"Invalid API key format"});const s=yield n.Subscription.findOne({userId:u._id,apiKey:e});if(!s)return a.status(i.RESPONSE_STATUS.NOT_FOUND).json({msg:"Invalid API Key"});if(!s.isActive||s.endDate<new Date)return yield s.updateOne({isActive:!1}),a.status(i.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Your subscription has expired"});const d=yield r.default.findOne({where:{Paket_id:s.paketId}});if(!d||!d.Paket_Limit)return a.status(i.RESPONSE_STATUS.BAD_REQUEST).json({msg:"Paket not found or invalid"});if((!s.resetAt||s.resetAt<new Date)&&(yield s.updateOne({apiHit:0,resetAt:new Date((new Date).getTime()+6e4)})),s.apiHit>=d.Paket_Limit)return a.status(i.RESPONSE_STATUS.BAD_REQUEST).json({msg:"API hit limit reached"});yield s.updateOne({$inc:{apiHit:t}}),o()}catch(c){return console.error("Error in checkIncreaseAPIHit middleware:",c),a.status(i.RESPONSE_STATUS.INTERNAL_SERVER_ERROR).json({msg:"Internal server error"})}});exports.checkAndIncreaseAPIHit=s;
},{"../contracts/enum/ResponseRelated.enum":"H258","../models/dynamic/Subscription.model":"Tk24","../models/static/Paket.model":"fXyY"}],"iHq9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewsSourceSearch=exports.NewsSource=void 0,exports.NewsSource=[{url:"https://www.fitandwell.com/news",name:"fitandwell"}],exports.NewsSourceSearch=[{url:"https://www.fitandwell.com/search?searchTerm=",name:"fitandwell"}];
},{}],"EAKb":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,i,l){return new(i||(i=Promise))(function(n,o){function r(t){try{d(l.next(t))}catch(e){o(e)}}function u(t){try{d(l.throw(t))}catch(e){o(e)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,u)}d((l=l.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractArticles=void 0;const e=e=>t(void 0,void 0,void 0,function*(){return yield e.evaluate(()=>{return Array.from(document.querySelectorAll(".listing__link")).map(t=>{var e,i,l,n,o,r,u,d,v,c,a;return{url:t.getAttribute("href")||null,title:(null===(i=null===(e=t.querySelector(".listing__title"))||void 0===e?void 0:e.textContent)||void 0===i?void 0:i.trim())||null,detail:(null===(n=null===(l=t.querySelector(".listing__text--strapline"))||void 0===l?void 0:l.textContent)||void 0===n?void 0:n.trim())||null,type:(null===(r=null===(o=t.querySelector(".listing__label"))||void 0===o?void 0:o.textContent)||void 0===r?void 0:r.trim())||null,writer:(null===(d=null===(u=t.querySelector(".listing__text--byline"))||void 0===u?void 0:u.textContent)||void 0===d?void 0:d.trim())||null,publishedDate:new Date(null!==(a=null===(c=null===(v=t.querySelector(".date.byline__time"))||void 0===v?void 0:v.getAttribute("datetime"))||void 0===c?void 0:c.toString())&&void 0!==a?a:"").toUTCString()||null}})})});exports.extractArticles=e;
},{}],"ugLQ":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(i,l){function n(e){try{s(o.next(e))}catch(t){l(t)}}function c(e){try{s(o.throw(e))}catch(t){l(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,c)}s((o=o.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSpecificNews=exports.getFilteredNews=void 0;const r=t(require("puppeteer")),o=require("../config/NewsSources"),i=require("../utils/NewsUtils"),l=t(require("fs")),n=t(require("path")),c=()=>e(void 0,void 0,void 0,function*(){return yield r.default.launch()}),s=(t,r)=>e(void 0,void 0,void 0,function*(){const e=0===Object.keys(t.query).length;if(e){const e=o.NewsSource,t=[];try{const o=yield c();console.log("sources",e);for(const r of e)if("fitandwell"===r.name)try{const e=yield o.newPage();console.log(`Extracting articles from ${r.url}`),yield e.goto(r.url,{waitUntil:"domcontentloaded",timeout:3e5}),yield e.waitForSelector(".listing__link",{timeout:3e5});const n=yield(0,i.extractArticles)(e);t.push(...n),yield e.close()}catch(l){console.error(`Failed to extract articles from ${r.url}:`,l)}yield o.close()}catch(l){return console.error("An error occurred while extracting news:",l),r.status(500).send("An error occurred while extracting news.")}return r.json(t)}if(!e){const e=o.NewsSourceSearch,i=[];try{const o=yield c();for(const r of e)if("fitandwell"===r.name){const e=r.url+t.query.title;try{const t=yield o.newPage();yield t.goto(e,{waitUntil:"domcontentloaded",timeout:3e5}),yield t.waitForSelector(".listing__link",{timeout:3e5});const r=yield t.evaluate(()=>{return Array.from(document.querySelectorAll(".listing__link")).map(e=>{var t,r,o,i,l;return{title:null===(t=e.querySelector(".listing__title"))||void 0===t?void 0:t.innerHTML,detail:null===(r=e.querySelector(".listing__text--strapline"))||void 0===r?void 0:r.innerHTML,type:null===(o=e.querySelector(".listing__label"))||void 0===o?void 0:o.innerHTML,writer:null===(i=e.querySelector(".listing__text--byline"))||void 0===i?void 0:i.innerHTML.split("By ")[1],publishedDate:null===(l=e.querySelector(".date"))||void 0===l?void 0:l.getAttribute("datetime"),url:e.getAttribute("href")}})});i.push(...r),yield t.close()}catch(l){console.error(`Failed to extract articles from ${e}:`,l)}}return 0===i.length?(console.log("No articles found."),yield o.close(),r.status(404).send("No articles found.")):(yield o.close(),r.json(i))}catch(l){return console.error("An error occurred while setting up the browser:",l),r.status(500).send("An error occurred while setting up the browser.")}}});exports.getFilteredNews=s;const d=(t,r)=>e(void 0,void 0,void 0,function*(){const{title:e}=t.params;let s,d="",u="";try{const t=yield c();try{const c=yield t.newPage();for(let t=0;t<o.NewsSourceSearch.length;t++)if("fitandwell"===(s=o.NewsSourceSearch[t]).name){const t=s.url+e;try{console.log(`Extracting articles from ${t}`),yield c.goto(t,{waitUntil:"domcontentloaded",timeout:3e5}),yield c.waitForSelector(".listing__link",{timeout:3e5});const r=(yield(0,i.extractArticles)(c)).find(t=>{var r;return null===(r=t.title)||void 0===r?void 0:r.includes(e)});if(r&&r.url){u=r.title||"unknown",d=r.url;break}}catch(a){console.error(`Failed to extract articles from ${t}:`,a)}}if(!d)return yield t.close(),r.status(404).send("Article not found.");yield c.goto(d,{waitUntil:"domcontentloaded",timeout:3e5}),yield c.emulateMediaType("screen");const f=yield c.content();yield t.close();const w=u.replace(/[<>:"\/\\|?*]+/g,"-"),h=n.default.resolve(__dirname,`../../articles/${s.name}/article_${w}.html`);l.default.mkdirSync(n.default.dirname(h),{recursive:!0}),l.default.writeFileSync(h,f),r.sendFile(h)}catch(a){console.error("An error occurred while extracting the specific news:",a);try{yield t.close()}catch(y){console.error("Error closing the browser:",y)}return r.status(500).send("An error occurred while extracting the specific news.")}}catch(a){}});exports.getSpecificNews=d;
},{"../config/NewsSources":"iHq9","../utils/NewsUtils":"EAKb"}],"CBET":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(s,r){function a(e){try{c(o.next(e))}catch(t){r(t)}}function i(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,i)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GoogleMaps=void 0;const t=require("@googlemaps/google-maps-services-js"),n=require("../config/environment");class o{constructor(e){this.client=new t.Client({}),this.apiKey=e,console.log("API Key:",this.apiKey)}getNearbyGyms(n,o){return e(this,void 0,void 0,function*(){return console.log("getNearbyGyms called with:",n,o),yield this.client.placesNearby({params:{location:{lat:n,lng:o},type:"gym",key:this.apiKey,rankby:t.PlacesNearbyRanking.distance},timeout:5e3}).then(e=>e.data.results.slice(0,10)).catch(e=>(console.log("Error:",e.response.data),e.response.data.error_message))})}}exports.GoogleMaps=new o(n.ENV.API_GOOGLE_PLACES_API_KEY);
},{"../config/environment":"Y6W3"}],"ZG9b":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,s){function a(e){try{c(o.next(e))}catch(t){s(t)}}function i(e){try{c(o.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,i)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNearestGyms=void 0;const t=require("../services/GoogleMapsService"),n=(n,o)=>e(void 0,void 0,void 0,function*(){const{lat:e,lng:r}=n.query,s=parseFloat(e),a=parseFloat(r),i=yield t.GoogleMaps.getNearbyGyms(s,a);return o.status(200).json({data:i})});exports.getNearestGyms=n;
},{"../services/GoogleMapsService":"CBET"}],"rkD8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getGymsSchema=void 0;const e=require(".");exports.getGymsSchema=e.JoiExtended.object({lat:e.JoiExtended.number().required().messages({"any.required":"Latitude is a required field.","number.base":"Latitude must be a number."}),lng:e.JoiExtended.number().required().messages({"any.required":"Longitude is a required field.","number.base":"Longitude must be a number."})});
},{".":"AsdS"}],"yOCL":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=e(require("multer")),i=e(require("fs")),r=e(require("path")),n="src/storage/images/profilePictures",s=t.default.diskStorage({destination:function(e,t,r){i.default.existsSync(n)||i.default.mkdirSync(n,{recursive:!0}),r(null,n)},filename:function(e,t,i){const n=e.user,s=r.default.extname(t.originalname).toLowerCase();i(null,`${n._id}${s}`)}}),l=(0,t.default)({storage:s,limits:{fileSize:5242880},fileFilter:(e,t,i)=>{const n=/jpeg|jpg|png|gif/,s=r.default.extname(t.originalname).toLowerCase(),l=n.test(s),u=n.test(t.mimetype);l&&u?i(null,!0):i(new Error("Wrong file extension"))}});exports.default=l;
},{}],"VEOb":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const a=require("express"),t=require("../controller/UserController"),i=require("../middleware/AuthMiddleware"),s=require("../middleware/ValidateMiddleware"),r=require("../validators/User.validate"),d=require("../controller/PricingController"),l=require("../controller/ExerciseController"),c=require("../controller/UserPlanController"),n=require("../validators/Plans.validate"),o=require("../middleware/BusinessMiddleware"),A=require("../controller/NewsController"),u=require("../controller/GymsController"),v=require("../validators/Maps.validate"),k=e(require("../middleware/Upload")),p=(0,a.Router)();p.post("/auth/register",(0,s.validateBody)(r.registerSchemaJoi),i.validateNotSignIn,t.registerUser),p.post("/auth/login",(0,s.validateBody)(r.loginSchemaJoi),i.validateNotSignIn,t.loginUser),p.post("/auth/token",(0,s.validateCookie)(r.validationTokenSchemaJoi),t.generateNewAccessToken),p.post("/auth/refresh_token",(0,s.validateCookie)(r.validationTokenSchemaJoi),t.newRefreshToken),p.get("/auth/verify/:emailVerificationToken",t.verifyEmail),p.get("/admin/users",[i.validateAccessToken,i.validateAdmin],t.getAllUser),p.get("/admin/dashboard",[i.validateAccessToken,i.validateAdmin],t.adminDashboard),p.get("/admin/user/profile/:userID",[i.validateAccessToken,i.validateAdmin],t.getUserProfile),p.delete("/admin/user/profile/:userID",[i.validateAccessToken,i.validateAdmin],t.deleteUserProfile),p.get("/admin/user/profile-picture/:userID",[i.validateAccessToken,i.validateAdmin],t.getUserProfilePicture),p.get("/admin/user/packet/:userID",[i.validateAccessToken,i.validateAdmin],t.getUserPacket),p.post("/admin/user/packet/:userID",[i.validateAccessToken,i.validateAdmin],t.addUserPacket),p.delete("/admin/user/packet/:userID",[i.validateAccessToken,i.validateAdmin],t.deleteUserPacket),p.get("/admin/exercise",[i.validateAccessToken,i.validateAdmin],t.addExercise),p.put("/admin/user/topup/:userID?",[i.validateAccessToken,i.validateAdmin],t.topupFromAdmin),p.put("/users/topup",[i.validateAccessToken,i.validateIsNotAdmin],t.topup),p.get("/users/dashboard",[i.validateAccessToken,i.validateIsNotAdmin],t.getDashboard),p.get("/users/profile-picture",[i.validateAccessToken,i.validateIsNotAdmin],t.getProfPic),p.put("/users/profile",[(0,s.validateBody)(r.editProfileSchemaJoi),i.validateAccessToken,i.validateIsNotAdmin,k.default.single("profilePicture")],t.editProfile),p.get("/users/apikey",[i.validateAccessToken,i.validateIsNotAdmin],t.getApiKey),p.put("/users/apikey/reset",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],t.resetApiKey),p.post("/users/subscribe",[i.validateAccessToken,i.validateIsNotAdmin],t.subscribePacket),p.put("/users/renew",[i.validateAccessToken,i.validateIsNotAdmin],t.renewSubscription),p.post("/users/plan",[(0,s.validateBody)(n.createUserPlanSchemaJoi),i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.createExercisePlan),p.get("/users/plan",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.getAllExercisePlanByUser),p.get("/users/plan/:id",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.getExercisePlanDetailByUser),p.put("/users/plan/edit/:id",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.editExercisePlan),p.post("/users/plan/start/:id",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.startExercisePlan),p.put("/users/plan/:id/workout/",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.addWorkoutToExercisePlan),p.get("/users/plan/:id/workout/",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.exercisePlanDetails),p.post("/users/plan/complete/:id",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.completeExercisePlan),p.put("/users/plan/cancel/:id",[i.validateAccessToken,i.validateIsNotAdmin,(0,o.checkAndIncreaseAPIHit)(1)],c.cancelExercisePlanByUser),p.get("/pricing",d.getAllPricingPackages),p.get("/exercise",[i.validateAccessToken],l.getExercise),p.get("/exercise/goals",[i.validateAccessToken],l.getAllGoals),p.get("/exercise/goals/:title",[i.validateAccessToken],l.getGoalByTitle),p.get("/news",[i.validateAccessToken,(0,o.checkAndIncreaseAPIHit)(1)],A.getFilteredNews),p.get("/news/:title",[i.validateAccessToken,(0,o.checkAndIncreaseAPIHit)(1)],A.getSpecificNews),p.get("/gyms/nearest",i.validateAccessToken,(0,s.validateQuery)(v.getGymsSchema),u.getNearestGyms),exports.default=p;
},{"../controller/UserController":"P7aU","../middleware/AuthMiddleware":"Suzg","../middleware/ValidateMiddleware":"dgni","../validators/User.validate":"NFyq","../controller/PricingController":"W2MU","../controller/ExerciseController":"ArPb","../controller/UserPlanController":"UBoC","../validators/Plans.validate":"ETAR","../middleware/BusinessMiddleware":"edTC","../controller/NewsController":"ugLQ","../controller/GymsController":"ZG9b","../validators/Maps.validate":"rkD8","../middleware/Upload":"yOCL"}],"Dp2M":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ROUTES=void 0,function(e){e.ROOT="/",e.API_DOCS="/api-docs",e.API_V1="/api/v1",e.AUTH_REGISTER="/auth/register",e.AUTH_LOGIN="/auth/login",e.AUTH_TOKEN="/auth/token",e.AUTH_REFRESH_TOKEN="/auth/refresh_token",e.USERS_ID="/users/:id",e.DYNAMIC_ROUTES="/dynamic/*",e.ADD_ROUTES="/routes/:routes"}(e||(exports.ROUTES=e={}));
},{}],"hITW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["root"],summary:"Check API Service status",description:"This endpoint checks if the API Service is running.",operationId:"checkStatus",responses:{200:{description:"API Service is running",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"hW7v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={post:{tags:["auth"],summary:"Register a new user",description:"This endpoint registers a new user.",operationId:"registerUser",security:[{bearerAuth:[]}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{username:{type:"string"},email:{type:"string",format:"email"},password:{type:"string"},fullName:{type:"string"},phone:{type:"string",pattern:"^[0-9]{10,15}$"}},required:["username","email","password","fullName","phone"]}}},required:!0},responses:{201:{description:"Register Successful, please verify your email within 24 hours!",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"},user:{type:"object"}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"sT3k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={post:{tags:["auth"],summary:"Login a user",description:"This endpoint logs in a user.",security:[{bearerAuth:[]}],operationId:"loginUser",requestBody:{content:{"application/json":{schema:{type:"object",properties:{username:{type:"string",default:"string"},email:{type:"string",format:"email",default:""},password:{type:"string"},rememberMe:{type:"boolean"}},anyOf:[{required:["username"]},{required:["email"]}],required:["password"]}}}},responses:{200:{description:"Logged in successfully",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"},token:{type:"string"}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"yuYG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={post:{tags:["auth"],summary:"Generate a new access token using a refresh token",description:"This endpoint generates a new access token by validating the provided refresh token.",operationId:"generateNewAccessToken",requestBody:{description:"Refresh Token required to generate a new access token",content:{"application/json":{schema:{type:"object",properties:{refreshToken:{type:"string",description:"Valid refresh token from the user"}},required:["refreshToken"]}}},required:!0},responses:{200:{description:"Access token created successfully",content:{"application/json":{schema:{type:"object",properties:{accessToken:{type:"string",description:"Newly created access token for the user"}}}}}},403:{description:"Invalid refresh token",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}};
},{}],"U8Bq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={post:{tags:["auth"],summary:"Generate a new refresh token",description:"This endpoint generates a new refresh token for authenticated users.",operationId:"newRefreshToken",requestBody:{description:"Refresh Token required to generate a new refresh token",content:{"application/json":{schema:{type:"object",properties:{refreshToken:{type:"string",description:"Valid refresh token from the user"}},required:["refreshToken"]}}},required:!0},responses:{200:{description:"New refresh token created successfully",content:{"application/json":{schema:{type:"object",properties:{refreshToken:{type:"string",description:"Newly created refresh token for the user"}}}}}},403:{description:"Invalid refresh token",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}},security:[{cookieAuth:[]}]}};
},{}],"HLeg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["auth"],summary:"Verify user's email",description:"This endpoint verifies a user's email using the email verification token.",operationId:"verifyEmail",parameters:[{name:"emailVerificationToken",in:"path",required:!0,schema:{type:"string"},description:"The email verification token provided to the user."}],responses:{200:{description:"Email verified successfully.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},403:{description:"Invalid or expired email verification token.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},404:{description:"User not found.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}};
},{}],"VALl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../../../contracts/enum/UserRelated.enum");exports.default={get:{tags:["admin"],summary:"Allow admin to get all users",description:"This endpoint returns every user's data with optional filters",security:[{bearerAuth:[]}],operationId:"getAllUser",parameters:[{name:"username",in:"query",description:"Filter by username (case-sensitive)",required:!1,schema:{type:"string"}},{name:"email",in:"query",description:"Filter by email (case-sensitive)",required:!1,schema:{type:"string"}},{name:"fullName",in:"query",description:"Filter by full name (case-sensitive)",required:!1,schema:{type:"string"}},{name:"role",in:"query",description:"Filter by role",required:!1,schema:{type:"string",enum:Object.values(e.ROLE)}}],responses:{200:{description:"Users returned successfully",content:{"application/json":{schema:{type:"object",properties:{users:{type:"array",items:{type:"object",properties:{role:{type:"string"},_id:{type:"string"},username:{type:"string"},email:{type:"string"},phone:{type:"string"},isEmailVerified:{type:"boolean"},fullName:{type:"string"},balance:{type:"number"}}}}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{"../../../contracts/enum/UserRelated.enum":"ayJC"}],"dGp4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={put:{tags:["users"],summary:"Topup the user's balance",description:"This endpoint increases the user's balance.",operationId:"topup",security:[{bearerAuth:[]}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{amount:{type:"number"}},required:["amount"]}}},required:!0},responses:{200:{description:"Topup successful",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},400:{description:"Invalid topup amount",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"PGEB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["users"],summary:"Get user dashboard",description:"This endpoint returns the user's dashboard.",operationId:"getDashboard",security:[{bearerAuth:[]}],responses:{200:{description:"User dashboard retrieved successfully",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"Hvnf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={put:{tags:["users"],summary:"Edit user profile",description:"This endpoint edits the user's profile.",operationId:"editProfile",security:[{bearerAuth:[]}],requestBody:{content:{"multipart/form-data":{schema:{type:"object",properties:{old_password:{type:"string"},new_password:{type:"string"},confirm_password:{type:"string"},fullName:{type:"string"},phone:{type:"string",pattern:"^[0-9]{10,15}$"},age:{type:"integer"},gender:{type:"string"},height:{type:"number"},weight:{type:"number"},healthInformation:{type:"string"},profilePicture:{type:"string",format:"binary",description:"Profile picture file"}}}}}},responses:{200:{description:"User profile updated successfully",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object"}}}}}},400:{description:"Bad request",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"AZTz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["pricing"],summary:"Get all pricing packages",description:"Retrieves all pricing packages available.",security:[{bearerAuth:[]}],responses:{200:{description:"Successful response with pricing packages data",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{Paket_id:{type:"string",example:"PAK001"},Paket_name:{type:"string",example:"Starter"},Paket_description:{type:"string",example:"Free package with limited rate"},Paket_Limit:{type:"integer",example:15},Paket_price:{type:"integer",example:0},Paket_price_currency:{type:"string",example:"IDR"}}}}}}}}}};
},{}],"T7jo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{summary:"Get API key for a user",description:"Retrieves the API key associated with a user.",security:[{bearerAuth:[]}],tags:["users"],responses:{200:{description:"Successful response with API key data",content:{"application/json":{schema:{type:"object",properties:{apiKey:{type:"string",description:"API key associated with the user"}}}}}},404:{description:"Not Found",content:{"application/json":{schema:{$ref:"#/components/schemas/NotFoundResponse"}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{$ref:"#/components/schemas/UnauthorizedResponse"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{$ref:"#/components/schemas/ErrorResponse"}}}}}}};
},{}],"KFvd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={put:{summary:"Reset API key for a user",description:"Resets the API key associated with a user.",security:[{bearerAuth:[]}],tags:["users"],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}}],responses:{200:{description:"Successful response with new API key data",content:{"application/json":{schema:{type:"object",properties:{apiKey:{type:"string",description:"New API key associated with the user"}}}}}},404:{description:"Not Found",content:{"application/json":{schema:{$ref:"#/components/schemas/NotFoundResponse"}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{$ref:"#/components/schemas/UnauthorizedResponse"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{$ref:"#/components/schemas/ErrorResponse"}}}}}}};
},{}],"xAqk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={post:{tags:["users"],summary:"Subscribe a user to a packet",description:"This endpoint subscribes a user to a packet.",operationId:"subscribePacket",security:[{bearerAuth:[]}],requestBody:{content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{paketId:{type:"string"},month:{type:"number"}},required:["paketId","month"]}},example:[{paketId:"PAK002",month:1},{paketId:"PAK003",month:2}]}},required:!0},responses:{201:{description:"Subscriptions created successfully",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"},transaction:{type:"object",properties:{transactionHeaderType:{type:"string"},date:{type:"string",format:"date-time"},total:{type:"number"},userId:{type:"string"},isAdmin:{type:"boolean"}}},subscriptions:{type:"array",items:{type:"object",properties:{transactionDetailType:{type:"string"},paket_id:{type:"string"},subscription_id:{type:"string"},month:{type:"number"},price:{type:"number"},subtotal:{type:"number"},message:{type:"string"}}}},remainingBalance:{type:"number"}}}}}},400:{description:"Invalid number of months",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},404:{description:"Packet not found",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"INaV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={put:{tags:["users"],summary:"Renew a subscription",description:"This endpoint renews a user's subscription to a packet.",operationId:"renewSubscription",security:[{bearerAuth:[]}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{month:{type:"number"}},required:["month"]}}},required:!0},responses:{200:{description:"Subscription successfully renewed",content:{"application/json":{schema:{type:"object",properties:{subscription:{type:"object"}}}}}},400:{description:"Invalid number of month",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},404:{description:"Packet not found",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"H9b5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../../../../contracts/enum/FitnessRelated.enum");exports.default={get:{tags:["plans"],summary:"Get all user plans",description:"This endpoint returns all the plans of a user.",operationId:"getAllPlans",security:[{bearerAuth:[]}],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}}],responses:{200:{description:"User plans retrieved successfully",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{_id:{type:"string"},name:{type:"string"},createdDate:{type:"string",format:"date-time"},status:{type:"string"}}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}},post:{tags:["users"],summary:"Create a new exercise plan",description:"This endpoint creates a new exercise plan for a user.",operationId:"createExercisePlan",security:[{bearerAuth:[]}],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}}],requestBody:{required:!0,content:{"application/json":{schema:{type:"object",properties:{name:{type:"string"},description:{type:"string"},goals:{type:"array",items:{type:"string",enum:Object.values(e.FITNESS_GOALS)},example:Object.values(e.FITNESS_GOALS).map(e=>e.code)},durationInWeeks:{type:"number"},frequencyPerWeek:{type:"number"},restDaysPerWeek:{type:"number"},intensity:{type:"string"},exercises:{type:"array",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"},sets:{type:"number"},repetitions:{type:"number"},restBetweenSetsInSeconds:{type:"number"},equipmentRequired:{type:"array",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"}}}}}}},nutritionPlan:{type:"object"},createdBy:{type:"string"}}}}}},responses:{201:{description:"Exercise plan created successfully",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"},plan:{type:"object",properties:{id:{type:"string"},name:{type:"string"},description:{type:"string"},goals:{type:"array",items:{type:"string",enum:Object.values(e.FITNESS_GOALS)}},durationInWeeks:{type:"number"},frequencyPerWeek:{type:"number"},restDaysPerWeek:{type:"number"},intensity:{type:"number"},exercises:{type:"array",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"},sets:{type:"number"},repetitions:{type:"number"},restBetweenSetsInSeconds:{type:"number"},equipmentRequired:{type:"array",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"}}}}}}},nutritionPlan:{type:"object"},createdBy:{type:"string"},status:{type:"string"}}}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"},error:{type:"string"}}}}}}}}};
},{"../../../../contracts/enum/FitnessRelated.enum":"VwVi"}],"tiKb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["plans"],summary:"Get a specific user plan",description:"This endpoint returns a specific plan of a user.",operationId:"getPlanById",security:[{bearerAuth:[]}],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}},{name:"id",in:"path",description:"ID of the plan to return",required:!0,schema:{type:"string"}}],responses:{200:{description:"User plan retrieved successfully",content:{"application/json":{schema:{type:"object",properties:{plan:{type:"object"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"Plan not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"TNf7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={put:{tags:["plans"],summary:"Edit a specific user plan",description:"This endpoint edits a specific plan of a user.",operationId:"editPlan",security:[{bearerAuth:[]}],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}},{name:"id",in:"path",description:"ID of the plan to edit",required:!0,schema:{type:"string"}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}},responses:{200:{description:"User plan edited successfully",content:{"application/json":{schema:{type:"object",properties:{plan:{type:"object"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"Plan not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"XXyX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={post:{tags:["plans"],summary:"Start a specific user plan",description:"This endpoint starts a specific plan of a user.",operationId:"startPlan",security:[{bearerAuth:[]}],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}},{name:"id",in:"path",description:"ID of the plan to start",required:!0,schema:{type:"string"}}],responses:{200:{description:"User plan started successfully",content:{"application/json":{schema:{type:"object",properties:{plan:{type:"object"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"Plan not found or already started",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"YsV8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={post:{tags:["plans"],summary:"Complete a specific user plan",description:"This endpoint completes a specific plan of a user.",operationId:"completePlan",security:[{bearerAuth:[]}],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}},{name:"id",in:"path",description:"ID of the plan to complete",required:!0,schema:{type:"string"}}],responses:{200:{description:"User plan completed successfully",content:{"application/json":{schema:{type:"object",properties:{plan:{type:"object"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"Plan not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"Y7IN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={put:{tags:["plans"],summary:"Add workout to exercise plan",description:"This endpoint adds a workout to a specific exercise plan.",operationId:"addWorkoutToExercisePlan",security:[{bearerAuth:[]}],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}},{name:"id",in:"path",required:!0,description:"The ID of the exercise plan",schema:{type:"string"}}],requestBody:{required:!0,content:{"application/json":{schema:{type:"object",properties:{exerciseId:{type:"string",description:"The ID of the exercise to add to the plan"}},required:["exerciseId"]}}}},responses:{200:{description:"Exercise added to plan successfully",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"XmHS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["news"],summary:"Get specific news article",description:"This endpoint retrieves a specific news article based on the title parameter and returns it as a PDF.",operationId:"getSpecificNews",parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}},{name:"title",in:"path",required:!0,schema:{type:"string"},description:"The title of the news article to retrieve."}],responses:{200:{description:"PDF of the specific news article.",content:{"application/pdf":{schema:{type:"string",format:"binary"}}}},404:{description:"Article not found.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},500:{description:"An error occurred while extracting the specific news.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}};
},{}],"HtxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["goals"],summary:"Get all fitness goals",description:"This endpoint retrieves a list of all fitness goals.",security:[{bearerAuth:[]}],operationId:"getAllGoals",responses:{200:{description:"A list of fitness goals.",content:{"application/json":{schema:{type:"object",properties:{Goal_list:{type:"array",items:{type:"object",properties:{title:{type:"string"},description:{type:"string"}}}}}}}}},500:{description:"Internal server error.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}};
},{}],"wcRX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={put:{tags:["plans"],summary:"Cancel an exercise plan by user",description:"This endpoint allows a user to cancel their exercise plan.",operationId:"cancelExercisePlanByUser",security:[{bearerAuth:[]}],parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}},{name:"id",in:"path",required:!0,schema:{type:"string"},description:"The ID of the exercise plan to be cancelled."}],requestBody:{required:!0,content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{_id:{type:"string"}},required:["_id"]}},required:["user"]}}}},responses:{200:{description:"Plan has been cancelled successfully.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},400:{description:"Plan status is already completed or cancelled.",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"Plan not found or not the user's plan.",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}};
},{}],"Gauk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["admin"],summary:"Get admin dashboard",description:"This endpoint returns the admin dashboard data.",operationId:"getAdminDashboard",security:[{bearerAuth:[]}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{total_user:{type:"number"},free_package_user:{type:"number"},non_free_package_user:{type:"number"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"iA2T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["admin"],summary:"Get user profile",description:"This endpoint returns the profile of a specific user.",operationId:"getUserProfile",parameters:[{name:"userID",in:"path",description:"ID of user to fetch",required:!0,schema:{type:"string"}}],security:[{bearerAuth:[]}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{username:{type:"string"},full_name:{type:"string"},email:{type:"string"},phone:{type:"string"},balance:{type:"number"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}},delete:{tags:["admin"],summary:"Delete user profile",description:"This endpoint deletes the profile of a specific user.",operationId:"deleteUserProfile",parameters:[{name:"userID",in:"path",description:"ID of user to delete",required:!0,schema:{type:"string"}}],security:[{bearerAuth:[]}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"rdHW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["admin"],summary:"Get user packet",description:"This endpoint returns the packet of a specific user.",operationId:"getUserPacket",parameters:[{name:"userID",in:"path",description:"ID of user to fetch",required:!0,schema:{type:"string"}}],security:[{bearerAuth:[]}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{username:{type:"string"},nama:{type:"string"},subscription_start:{type:"string",format:"date-time"},subscription_end:{type:"string",format:"date-time"},packet:{type:"object",properties:{Paket_id:{type:"string"},Paket_name:{type:"string"},Paket_description:{type:"string"},Paket_limit:{type:"number"},Paket_price:{type:"number"},Paket_currency:{type:"string"}}}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User or Packet not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}},post:{tags:["admin"],summary:"Add user packet",description:"This endpoint adds a packet to a specific user.",operationId:"addUserPacket",parameters:[{name:"userID",in:"path",description:"ID of user to add packet",required:!0,schema:{type:"string"}}],security:[{bearerAuth:[]}],requestBody:{content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{paket_id:{type:"string"},month:{type:"number"}},required:["paket_id","month"]}},example:[{paket_id:"PAK002",month:1},{paket_id:"PAK003",month:2}]}},required:!0},responses:{201:{description:"Subscriptions created successfully",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"},transaction:{type:"object",properties:{transactionHeaderType:{type:"string"},date:{type:"string",format:"date-time"},total:{type:"number"},userId:{type:"string"},isAdmin:{type:"boolean"}}},subscriptions:{type:"array",items:{type:"object",properties:{transactionDetailType:{type:"string"},paket_id:{type:"string"},subscription_id:{type:"string"},month:{type:"number"},price:{type:"number"},subtotal:{type:"number"},message:{type:"string"}}}}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User or Packet not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}},delete:{tags:["admin"],summary:"Delete user packet",description:"This endpoint deletes the packet of a specific user.",operationId:"deleteUserPacket",parameters:[{name:"userID",in:"path",description:"ID of user to delete packet",required:!0,schema:{type:"string"}}],security:[{bearerAuth:[]}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User or Packet not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"npvx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{summary:"Get Exercise",description:"Get exercise data based on various filters",security:[{bearerAuth:[]}],parameters:[{in:"query",name:"exercise",schema:{type:"string"},description:"Exercise name"},{in:"query",name:"type",schema:{type:"string",enum:["cardio","olympic_weightlifting","plyometrics","powerlifting","strength","stretching","strongman"]},description:"Exercise type"},{in:"query",name:"muscle",schema:{type:"string",enum:["abdominals","abductors","adductors","biceps","calves","chest","forearms","glutes","hamstrings","lats","lower_back","middle_back","neck","quadriceps","traps","triceps","shoulders"]},description:"Target muscle"},{in:"query",name:"difficulty",schema:{type:"string",enum:["beginner","intermediate","expert"]},description:"Exercise difficulty level"},{in:"query",name:"page",schema:{type:"integer",default:0},description:"Page number for pagination"}],responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object",properties:{exercise:{type:"array",items:{type:"object",properties:{name:{type:"string",description:"Name of the exercise"},type:{type:"string",enum:["cardio","olympic_weightlifting","plyometrics","powerlifting","strength","stretching","strongman"],description:"Type of exercise"},muscle:{type:"string",enum:["abdominals","abductors","adductors","biceps","calves","chest","forearms","glutes","hamstrings","lats","lower_back","middle_back","neck","quadriceps","traps","triceps","shoulders"],description:"Target muscle"},equipment:{type:"string",description:"Equipment used"},difficulty:{type:"string",enum:["beginner","intermediate","expert"],description:"Difficulty level"},instructions:{type:"string",description:"Instructions for the exercise"}}}}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}},404:{description:"Not Found",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"w3Ay":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["news"],summary:"Get all or filtered news articles",description:"This endpoint retrieves all news articles from the specified sources or filters them based on the provided query parameters.",operationId:"getFilteredNews",parameters:[{name:"apiKey",in:"query",description:"User's API key",required:!0,schema:{type:"string"}},{name:"title",in:"query",required:!1,description:"The title to filter the news articles by.",schema:{type:"string"}}],responses:{200:{description:"A list of news articles, possibly filtered by title.",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{title:{type:"string"},url:{type:"string"},detail:{type:"string"},type:{type:"string"},writer:{type:"string"},publishedDate:{type:"string"}}}}}}},404:{description:"No articles found matching the criteria.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},500:{description:"An error occurred while extracting news.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}};
},{}],"u0Rg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["goals"],summary:"Get fitness goal by ID",description:"This endpoint retrieves a specific fitness goal by its ID.",operationId:"getGoalById",security:[{bearerAuth:[]}],parameters:[{name:"title",in:"path",required:!0,schema:{type:"string"},description:"The ID of the fitness goal."}],responses:{200:{description:"The requested fitness goal.",content:{"application/json":{schema:{type:"object",properties:{Goal:{type:"object",properties:{title:{type:"string"},description:{type:"string"}}}}}}}},404:{description:"Goal not found.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}},500:{description:"Internal server error.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}};
},{}],"LD85":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../../../config/environment");exports.default={get:{tags:["gyms"],summary:"Get nearest gyms",description:`This endpoint returns the nearest gyms based on the provided latitude, longitude, and radius. you can use the frontend <a href="${e.ENV.BACKEND_API_URL}:${e.ENV.PORT}/location">${e.ENV.BACKEND_API_URL}:${e.ENV.PORT}/location</a>`,operationId:"getNearestGyms",security:[{bearerAuth:[]}],parameters:[{name:"lat",in:"query",required:!0,schema:{type:"number"},description:"Latitude of the location to search gyms around."},{name:"lng",in:"query",required:!0,schema:{type:"number"},description:"Longitude of the location to search gyms around."}],responses:{200:{description:"Gyms retrieved successfully",content:{"application/json":{schema:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{business_status:{type:"string"},geometry:{type:"object",properties:{location:{type:"object",properties:{lat:{type:"number"},lng:{type:"number"}}},viewport:{type:"object",properties:{northeast:{type:"object",properties:{lat:{type:"number"},lng:{type:"number"}}},southwest:{type:"object",properties:{lat:{type:"number"},lng:{type:"number"}}}}}}},icon:{type:"string"},icon_background_color:{type:"string"},icon_mask_base_uri:{type:"string"},name:{type:"string"},opening_hours:{type:"object",properties:{open_now:{type:"boolean"}}},photos:{type:"array",items:{type:"object",properties:{height:{type:"number"},html_attributions:{type:"array",items:{type:"string"}},photo_reference:{type:"string"},width:{type:"number"}}}},place_id:{type:"string"},plus_code:{type:"object",properties:{compound_code:{type:"string"},global_code:{type:"string"}}},reference:{type:"string"},scope:{type:"string"},types:{type:"array",items:{type:"string"}},vicinity:{type:"string"}}}}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{"../../../config/environment":"Y6W3"}],"EHXa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["users"],summary:"Get user profile picture",description:"This endpoint returns the user's profile picture.",operationId:"getProfilePicture",security:[{bearerAuth:[]}],responses:{200:{description:"User profile picture retrieved successfully",content:{"image/png":{schema:{type:"string",format:"binary"},example:"User's profile picture"}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"}}}}}}}}};
},{}],"oIx6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={get:{tags:["admin"],summary:"Get user profile picture",description:"This endpoint returns the profile picture of a specific user.",operationId:"getUserProfilePicture",parameters:[{name:"userID",in:"path",description:"ID of user to fetch",required:!0,schema:{type:"string"}}],security:[{bearerAuth:[]}],responses:{200:{description:"User profile picture retrieved successfully",content:{"image/png":{schema:{type:"string",format:"binary"},example:"User's profile picture"}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"BIQI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={put:{tags:["admin"],summary:"Update user balance",description:"This endpoint updates the balance of all users or a specific user.",operationId:"topupFromAdmin",parameters:[{name:"userID",in:"path",description:"ID of user to fetch",required:!1,schema:{type:"string"},example:""}],security:[{bearerAuth:[]}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{saldo:{type:"number"}},required:["saldo"]}}},required:!0},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"},username:{type:"string"},full_name:{type:"string"},newBalance:{type:"number"}}},examples:{specificUser:{summary:"Balance updated for specific user",value:{msg:"Balance updated successfully",username:"string1",full_name:"string",newBalance:5e3}},allUsers:{summary:"Balance updated for all users",value:{msg:"Balance updated for all users successfully"}}}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},404:{description:"User not found",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{msg:{type:"string"}}}}}}}}};
},{}],"FXkJ":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=require("jsdom"),a=e(require("./paths/root")),t=e(require("./paths/auth/register")),s=e(require("./paths/auth/login")),i=e(require("./paths/auth/newAccessTokenFromRefreshToken")),u=e(require("./paths/auth/newRefreshToken")),p=e(require("./paths/auth/verifyEmail")),l=e(require("./paths/admin/getAllUser")),n=e(require("./paths/user/topup")),o=e(require("./paths/user/userDashboard")),d=e(require("./paths/user/editUserProfile")),h=e(require("./paths/public/getAllPricing")),f=e(require("./paths/user/getUserAPIKey")),c=e(require("./paths/user/resetUserAPIKey")),v=e(require("./paths/user/subscribeToUserPacket")),q=e(require("./paths/user/renewSubscription")),y=e(require("./paths/user/plan/userPlanHandlers")),m=e(require("./paths/user/plan/userPlanByIDHandlers")),g=e(require("./paths/user/plan/editUserPlanById")),k=e(require("./paths/user/plan/startUserPlanById")),P=e(require("./paths/user/plan/completeUserPlanById")),w=e(require("./paths/user/plan/exercise/workout/addWorkoutToExercisePlan")),b=e(require("./paths/news/getNewsByTitle")),A=e(require("./paths/user/plan/exercise/goals/getAllGoals")),x=e(require("./paths/user/plan/cancelPlanByUser")),D=e(require("./paths/admin/adminDashboard")),U=e(require("./paths/admin/getAndDeleteUserProfile")),I=e(require("./paths/admin/getAndPostAndDeletePacket")),T=e(require("./paths/user/plan/exercise/getExerciseByQuery")),B=e(require("./paths/news/getNewsFilterOrAllNews")),_=e(require("./paths/user/plan/exercise/goals/getGoalByTitle")),F=e(require("./paths/location/getNearestGyms")),W=e(require("./paths/user/getProfilePicture")),j=e(require("./paths/admin/getUserProfilePicture")),K=e(require("./paths/admin/topupFromAdmin")),{window:N}=new r.JSDOM,E=require("jquery")(N),G={};G["/"]=a.default,G["/api/v1/auth/register"]=t.default,G["/api/v1/auth/login"]=s.default,G["/api/v1/auth/token"]=i.default,G["/api/v1/auth/refresh_token"]=u.default,G["/api/v1/auth/verify/{emailVerificationToken}"]=p.default,G["/api/v1/users/topup"]=n.default,G["/api/v1/users/dashboard"]=o.default,G["/api/v1/users/profile-picture"]=W.default,G["/api/v1/users/profile"]=d.default,G["/api/v1/pricing"]=h.default,G["/api/v1/users/apikey"]=f.default,G["/api/v1/users/apikey/reset"]=c.default,G["/api/v1/users/subscribe"]=v.default,G["/api/v1/users/renew"]=q.default,G["/api/v1/exercise"]=T.default,G["/api/v1/users/plan"]=y.default,G["/api/v1/users/plan/{id}"]=m.default,G["/api/v1/users/plan/edit/{id}"]=g.default,G["/api/v1/users/plan/start/{id}"]=k.default,G["/api/v1/users/plan/complete/{id}"]=P.default,G["/api/v1/users/plan/{id}/workout/"]=w.default,G["/api/v1/news"]=B.default,G["/api/v1/news/{title}"]=b.default,G["/api/v1/exercise/goals"]=A.default,G["/api/v1/exercise/goals/{title}"]=_.default,G["/api/v1/users/plan/cancel/{id}"]=x.default,G["/api/v1/admin/users"]=l.default,G["/api/v1/admin/dashboard"]=D.default,G["/api/v1/admin/user/profile/{userID}"]=U.default,G["/api/v1/admin/user/profile-picture/{userID}"]=j.default,G["/api/v1/admin/user/packet/{userID}"]=I.default,G["/api/v1/admin/user/topup/{userID}"]=K.default,G["/api/v1/gyms/nearest"]=F.default;const M={openapi:"3.0.0",info:{title:"We Fit",description:"We Fit is a fitness-oriented web service that helps users find nearby gyms, track their workouts, and stay motivated on their fitness journey. Whether you’re a seasoned athlete or just starting out, We Fit provides a seamless experience to help you achieve your fitness goals.",version:"1.0.0"},components:{securitySchemes:{bearerAuth:{type:"http",scheme:"bearer",bearerFormat:"JWT",in:"header",name:"authorization"},apiKeyAuth:{type:"http",in:"query",name:"x-api-key"},cookieAuth:{type:"apiKey",in:"cookie",name:"refresh_token"}}},security:{bearerAuth:[],cookieAuth:[]},paths:G};exports.default=M;
},{"./paths/root":"hITW","./paths/auth/register":"hW7v","./paths/auth/login":"sT3k","./paths/auth/newAccessTokenFromRefreshToken":"yuYG","./paths/auth/newRefreshToken":"U8Bq","./paths/auth/verifyEmail":"HLeg","./paths/admin/getAllUser":"VALl","./paths/user/topup":"dGp4","./paths/user/userDashboard":"PGEB","./paths/user/editUserProfile":"Hvnf","./paths/public/getAllPricing":"AZTz","./paths/user/getUserAPIKey":"T7jo","./paths/user/resetUserAPIKey":"KFvd","./paths/user/subscribeToUserPacket":"xAqk","./paths/user/renewSubscription":"INaV","./paths/user/plan/userPlanHandlers":"H9b5","./paths/user/plan/userPlanByIDHandlers":"tiKb","./paths/user/plan/editUserPlanById":"TNf7","./paths/user/plan/startUserPlanById":"XXyX","./paths/user/plan/completeUserPlanById":"YsV8","./paths/user/plan/exercise/workout/addWorkoutToExercisePlan":"Y7IN","./paths/news/getNewsByTitle":"XmHS","./paths/user/plan/exercise/goals/getAllGoals":"HtxL","./paths/user/plan/cancelPlanByUser":"wcRX","./paths/admin/adminDashboard":"Gauk","./paths/admin/getAndDeleteUserProfile":"iA2T","./paths/admin/getAndPostAndDeletePacket":"rdHW","./paths/user/plan/exercise/getExerciseByQuery":"npvx","./paths/news/getNewsFilterOrAllNews":"w3Ay","./paths/user/plan/exercise/goals/getGoalByTitle":"u0Rg","./paths/location/getNearestGyms":"LD85","./paths/user/getProfilePicture":"EHXa","./paths/admin/getUserProfilePicture":"oIx6","./paths/admin/topupFromAdmin":"BIQI"}],"VG1G":[function(require,module,exports) {
"use strict";var o=this&&this.__awaiter||function(o,e,n,t){return new(n||(n=Promise))(function(c,i){function r(o){try{u(t.next(o))}catch(e){i(e)}}function s(o){try{u(t.throw(o))}catch(e){i(e)}}function u(o){var e;o.done?c(o.value):(e=o.value,e instanceof n?e:new n(function(o){o(e)})).then(r,s)}u((t=t.apply(o,e||[])).next())})},e=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.closeMongoDB=exports.connectMongoDB=void 0;const n=e(require("mongoose")),t=require("../config/environment"),c=()=>o(void 0,void 0,void 0,function*(){try{yield n.default.connect(t.ENV.MONGODB_URI),console.log("MongoDB connected...")}catch(o){console.error(o.message)}});exports.connectMongoDB=c;const i=()=>o(void 0,void 0,void 0,function*(){try{yield n.default.connection.close(),console.log("MongoDB connection closed...")}catch(o){console.error(o.message)}});exports.closeMongoDB=i;
},{"../config/environment":"Y6W3"}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(u,o){function i(e){try{a(n.next(e))}catch(t){o(t)}}function s(e){try{a(n.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?u(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,s)}a((n=n.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=t(require("express")),n=require("./config/environment"),u=t(require("./router/router")),o=t(require("cookie-parser")),i=t(require("swagger-ui-express")),s=require("./contracts/enum/RoutesRelated.enum"),a=t(require("cors")),c=t(require("./documentation/swagger")),d=require("./contracts/enum/ResponseRelated.enum"),l=require("./connection/connection"),f=t(require("path")),_=(0,r.default)();_.use("/api-docs",i.default.serve,i.default.setup(c.default)),(0,l.connectMongoDB)(),_.use((0,a.default)()),_.use((0,o.default)()),_.use(r.default.json()),_.use(r.default.urlencoded({extended:!0})),_.use(s.ROUTES.API_V1,u.default),_.get(s.ROUTES.ROOT,(e,t)=>t.status(d.RESPONSE_STATUS.SUCCESS).send("This API Service is currently running")),_.set("view engine","ejs"),_.set("views",f.default.join(__dirname,"views")),_.get("/location",(t,r)=>e(void 0,void 0,void 0,function*(){try{const t={backend_url:`${n.ENV.BACKEND_API_URL}:${n.ENV.PORT}`};r.render(f.default.join(__dirname,"templates","get_location.ejs"),t)}catch(e){console.error(e),r.status(500).send("An error occurred")}})),exports.default=_;
},{"./config/environment":"Y6W3","./router/router":"VEOb","./contracts/enum/RoutesRelated.enum":"Dp2M","./documentation/swagger":"FXkJ","./contracts/enum/ResponseRelated.enum":"H258","./connection/connection":"VG1G"}],"gwbb":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=e(require(".")),r=require("./config/environment");t.default.listen(r.ENV.PORT,()=>console.log("Server is running at http://localhost:"+r.ENV.PORT));
},{".":"QCba","./config/environment":"Y6W3"}]},{},["gwbb"], null)
//# sourceMappingURL=/run.js.map